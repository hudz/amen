/*!
 *  JavaScript Library Function for nc.base
 *  Using jQuery JavaScript Library v1.3.2
 *  (c) 2009 Encoral Software Development team (R&D)
 *  
 *  Credit: Hudzaifah Hafiz
 *
 *  nc.base.js is open source.
 *
 *--------------------------------------------------------------------------*/

nc.base={URL:{lookup:nc.hostName+"/action/base/lookup",table:nc.hostName+"/action/base/table",save:nc.hostName+"/action/base/save",language:nc.hostName+"/action/base/language",email:nc.hostName+"/action/base/email",autocomplete:nc.hostName+"/action/base/autocomplete"},language:function(options,container,callback){var defaults={value:'',key:'',container:container};var opts=$.extend({},defaults,options);var url=nc.base.URL.language+'?key='+opts.key;var value=nc.base._cache_language[url];if(value!=null){return value}var xHR=jQuery.ajax({async:false,type:'GET',url:url});value=xHR.responseText;nc.base._cache_language[url]=value;return value},lookupJava:function(options,container,callback){var defaults={value:'',container:container};var opts=$.extend({},defaults,options);$(opts.container).html(opts.value).trigger('change')},lookup:function(options,container,callback){var defaults={sqlID:'',defaultValue:'',ID:'',ID1:'',ID2:'',parameters:{},parameter:'',parameter1:'',parameter2:'',parameter3:'',parameter4:'',parameter5:'',parameter6:'',condition:'',condition1:'',condition2:'',selected:'',returnThis:false,response:'',container:'',lookup:false,inner_html:false,selectOption:true,callback:'',singleData:false,allValue:false,specialCase:'',selected:true,notOption:false,language:'BM',success:'',json:''};var opts=$.extend({},defaults,options);var data=nc.base.serialize(opts,defaults,options);var urlCache=nc.base.URL.lookup+data;var value=nc.base._cache_lookup[urlCache];if(value!=null){opts.response=value;nc.base.afterLookup(opts)}else{if(opts.parameter!='-'&&opts.parameter1!='-'){$.ajax({type:"POST",url:nc.base.URL.lookup,data:data,success:function(msg){msg=$.trim(msg);opts.response=msg;if(opts.json){var encoded=$.evalJSON(opts.response);var theHTML='';$.each(encoded,function(val,text){theHTML=theHTML+'<option value="'+val+'">'+text+'</option>'})opts.response=theHTML}nc.base._cache_lookup[urlCache]=opts.response;nc.base.afterLookup(opts)}})}}if(opts.returnThis){}},afterLookup:function(opts){var notSingleData=false;if(opts.singleData){notSingleData=false;if(opts.inner_html){if(!notSingleData){$(opts.container).html(opts.response)}else{notSingleData=true;$(opts.container).html(opts.response)}}else{notSingleData=false;$(opts.container).val(opts.response)}}else{notSingleData=true;$(opts.container).html(opts.response)}if(notSingleData){if(opts.defaultValue!=''){$(opts.container).val(opts.defaultValue)}else{var optionLength=$(opts.container).length;if(opts.selected){if(optionLength<2){$("option:eq(1)",opts.container).attr("selected","selected")}if($("option",opts.container).size()==2){$(opts.container).children().eq(0).remove()}else{}}}}$(opts.container).trigger('change');$(document).trigger('nc.base.lookup');if(opts.allValue){$(opts.container).append('<option value="all">SEMUA</option>')}(opts.callback==''||opts.callback==undefined)?'':opts.callback();(opts.success==''||opts.success==undefined)?'':opts.success()},table:function(options,container,callback){var UINamingBM=['RESET'];var UINamingBI=['RESET'];var UINaming=['RESET'];var defaults={sqlID:'',ID:'',ID1:'',ID2:'',parameter:'',parameter1:'',parameter2:'',parameter3:'',parameter4:'',parameter5:'',parameter6:'',condition:'',condition1:'',condition2:'',selectOption:'',returnThis:false,response:'',container:'',lookup:true,callback:'',style:'',tableWidth:'100',tableID:'list_data',paging:'js',listAll:false,page:0,elementTargeted:'',json:false,pager:true,render:'sortable',scrollbar:'',loadData:'',currentPage:0,muka:{currentPage:0,totalRecords:0,totalPage:0,range:10},htmlTableTitle:'<div id="table_title" style="cursor: default;" class="">Listing<div class="ptogtitle" title="Minimize/Maximize Table"><span/></div></div>',htmlPagingPager:'<div class="table_bar"> '+'<span id="pager" class="pager"> '+'<span style="float:left;">  '+'<img class="search_s" src="'+nc.hostname+'/images/icon/search_small.png"/>  '+'<select id="select_s"><option>--</option></select>  '+'<input type="text" id="filter_box" class="search" value="" maxlength="20" size="20"  />  '+'<span class="button"><button id="filter_clear_button" type="button" value="'+UINaming[0]+'">'+UINaming[0]+'</button></span> '+'</span>  '+'<span id="child_pager_two" style="float:right">  '+'<img class="first" src="'+nc.hostname+'/images/icon/first.png" />  '+'<img class="prev" src="'+nc.hostname+'/images/icon/prev.png" />  '+'<input class="pagedisplay" type="text" size ="5" disabled style="text-align:center;"/>  '+'<img class="next" src="'+nc.hostname+'/images/icon/next.png" />  '+'<img class="last" src="'+nc.hostname+'/images/icon/last.png" />  '+'<select class="pagesize" > '+'<option value="10" selected="selected">10</option>  '+'<option value="20">20</option>  '+'<option value="30">30</option>  '+'</select>  '+'</span>  '+'</span>',htmlPagingPagerPopup:'<div class="blue_bar_high"> '+'<table cellspacing="0" width="100%" class="blue_bar_wrapper_high"> '+'<tbody><tr><td> '+'<span id="pager_popup" class="pager_popup"> '+'<span style="float:left;">  '+'<img class="search_s" src="'+nc.hostname+'/images/search_small.png"/>  '+'<select id="select_s"><option>--</option></select>  '+'<input type="text" id="filter_box" class="search" value="" maxlength="20" size="20"  />  '+'<span class="button"><button id="filter_clear_button" type="button" value="'+UINaming[0]+'">'+UINaming[0]+'</button></span> '+'</span>  '+'<span id="child_pager_two_popup" style="float:right">  '+'<img class="first" src="'+nc.hostname+'/css/icons/first.png" />  '+'<img class="prev" src="'+nc.hostname+'/css/icons/prev.png" />  '+'<input class="pagedisplay" type="text" size ="5" disabled style="text-align:center;"/>  '+'<img class="next" src="'+nc.hostname+'/css/icons/next.png" />  '+'<img class="last" src="'+nc.hostname+'/css/icons/last.png" />  '+'<select class="pagesize" > '+'<option value="10" selected="selected">10</option>  '+'<option value="20">20</option>  '+'<option value="30">30</option>  '+'</select>  '+'</span>  '+'</span>'+'</tr> </tbody></table></div>'+(($.browser.chrome||$.browser.safari)?'<br /><br /><br /><br />':'<br /><br />')};var opts=$.extend({},defaults,options);var data=nc.base.serialize(opts,defaults,options);if(opts.container!=''){container=opts.container}$.ajax({type:"POST",url:nc.base.URL.table,data:data,success:function(msg){msg=$.trim(msg);opts.response=msg;if(opts.paging=='java'){var index=opts.response.indexOf('}')var dataJSON=opts.response.substr(0,index+1)opts.response=opts.response.substr(index+1,opts.response.length)var PAGE=$.evalJSON(dataJSON);opts.muka.totalRecords=PAGE.totalRecords;opts.muka.totalPage=parseInt(opts.muka.totalRecords/opts.muka.range);nc.out('currentPage:'+opts.muka.currentPage)nc.out('totalPage:'+opts.muka.totalPage)nc.out('range:'+opts.muka.range)nc.out('totalRecords:'+opts.muka.totalRecords)}var containerNavigation="";if(opts.json){var encoded=$.evalJSON(JSONObj);var template=[{tagName:'table',childNodes:[{tagName:'tbody',childNodes:[]}]}];for(i in data){var row=template[0].childNodes[0].childNodes;row.push({tagName:'tr',childNode:[]});for(ii in data[i]){row.childNodes.push({tagName:'td',innerHTML:data[i][ii]})}}msg=template}else{}if(opts.style=='popup'){$(container,'#facebox').html(opts.response);containerNavigation="_popup"}else{$(container).html(opts.response);containerNavigation=""}opts.tableID='#'+opts.tableID;if(opts.pager){if(opts.style=='popup'){$(opts.htmlPagingPagerPopup).insertBefore(opts.tableID,'#facebox')}else{$(opts.htmlPagingPager).insertBefore(opts.tableID)}}if(opts.paging=='js'){if(opts.response!=''){$('.table_bar').before(opts.htmlTableTitle);collapseTable(opts);$('.rowBodyContent',opts.tableID).each(function(){opts.muka.totalRecords+=1})nc.out(opts.muka.totalRecords)if(opts.listAll){if(opts.render=='sortable'){$(opts.tableID).tablesorter({widgets:['zebra'],headers:{0:{sorter:false}}});if(opts.pager){$(opts.tableID).tablesorterFilter({filterContainer:$("#filter_box","#pager"+containerNavigation),filterClearContainer:$("#filter_clear_button","#pager"+containerNavigation),filterCaseSensitive:false})}}else if(opts.render=='flexigrid'){}}else{if(opts.render=='sortable'){$(opts.tableID).tablesorter({widgets:['zebra'],headers:{0:{sorter:false}}});if(opts.pager){$(opts.tableID).tablesorterPager({container:$("#pager"+containerNavigation),page:(opts.page==0)?opts.page:parseInt(opts.page)-1}).tablesorterFilter({filterContainer:$("#filter_box","#pager"+containerNavigation),filterClearContainer:$("#filter_clear_button","#pager"+containerNavigation),filterCaseSensitive:false})}}else if(opts.render=='flexigrid'){}}if(opts.pager){$("#filter_clear_button","#pager"+containerNavigation).click(function(){$('#filter_box',"#pager"+containerNavigation).val("")})}if(opts.style=='popup'){if(opts.pager){$('.pagesize','#child_pager_two'+containerNavigation).val('30');$('.pagesize','#child_pager_two'+containerNavigation).change()}}else{}if(opts.style=='popup'){if(opts.elementTargeted!=''){$(opts.tableID).children(':gt(1)').children().each(function(){})}}else{}}}else if(opts.paging=='java'){$('img[class="first"]',"#pager"+containerNavigation).click(function(){opts.muka.currentPage=1;opts.loadData();nc.out('xx')});$('img[class="prev"]',"#pager"+containerNavigation).click(function(){if(opts.muka.currentPage>1)opts.muka.currentPage-=1;opts.loadData()});$('img[class="next"]',"#pager"+containerNavigation).click(function(){if(opts.muka.currentPage<opts.muka.totalPage)opts.muka.currentPage+=1;opts.loadData();nc.out(opts.muka.currentPage)});$('img[class="last"]',"#pager"+containerNavigation).click(function(){opts.muka.currentPage=opts.muka.totalPage;opts.loadData()});$('[id="filter-clear-button"]').click(function(){$('input[id="popupFilter-box"]').val("")});$('select[class="pageSize"]').change(function(){pageSize=$(this).val();opts.muka.currentPage=1;opts.loadData()});$('select[class="popupSearchType"]').change(function(){crntCol=$('select[class="popupSearchType"]').val();$('input[id="popupFilter-box"]').val("")});$("#filter_clear_button","#pager"+containerNavigation).click(function(){$('#filter_box',"#pager"+containerNavigation).val("")})}var tableHeaders=new Array();var tableHeadersValue=new Array();var inputCheckBox='<input type="checkbox" value="" id="select_all_checkbox" class="vtip" title="Pilih Semua"/>';$(opts.tableID).children(':nth-child(1)').children().children().each(function(i){if($(this).html().indexOf("_")>=0&&$(this).html()!='CHECKBOX'){var originalTitle=$(this).html();var title=originalTitle.split('_');originalTitle="";for(var k=0;k<title.length;k++){originalTitle=originalTitle+title[k]+' '}$(this).html(originalTitle)}if($(this).html().indexOf("|")>=0){var originalTitle=$(this).html();var title=originalTitle.split('|');originalTitle="";for(var k=0;k<title.length;k++){originalTitle=originalTitle+title[k]+'<br />'}$(this).html(originalTitle)}if($(this).html()!='CHECKBOX'){if($(this).html()!='Bil'){if($(this).html().indexOf("CATATAN")>=0&&$(this).html().indexOf("KEHADIRAN")>=0){}else{tableHeadersValue[i]=i;var originalTitle=$(this).html();if($(this).html().indexOf("<br>")>=0){var title=$(this).html().split('<br>');originalTitle="";for(var k=0;k<title.length;k++){originalTitle=originalTitle+title[k]+' '}}tableHeaders[i]=originalTitle}}}if($(this).html()=='CHECKBOX'){$(this).html(inputCheckBox);$('#select_all_checkbox').addClass('vtip');vtip()}});var headerHideShow="";for(var i=0;i<tableHeaders.length;i++){headerHideShow=headerHideShow+'<li><a href="javascript: ;" id="list-menu-link" class="list-menu-links" column="'+(i+1)+'">'+tableHeaders[i]+'</a></li>'}headerHideShow='<div id="list-column"><ul>'+headerHideShow+'</ul></div>';$('#list-column').hide();$('#header-column-show').click(function(){$('#list-column').toggle()});$('.list-menu-links').each(function(){$(this).click(function(e){nc.out('column hide clicked')e.preventDefault();var clicked=$(e.target);var columnClicked=clicked.attr('column');$('td:nth-child('+columnClicked+'), th:nth-child('+columnClicked+')',opts.tableID).toggle()})});var optionSelectSorter="";if(tableHeaders.length==0){optionSelectSorter=optionSelectSorter+'<option value="-">TIADA REKOD</option>'}else{for(var m=1;m<tableHeaders.length;m++){if(tableHeaders[m]!==undefined){optionSelectSorter=optionSelectSorter+'<option value="'+tableHeadersValue[m]+'">'+tableHeaders[m]+'</option>'}}}$('#select_s',"#pager"+containerNavigation).html(optionSelectSorter);$('#select_s',"#pager"+containerNavigation).change(function(){$("#filter_clear_button","#pager"+containerNavigation).click();$(opts.tableID).tablesorterFilter({filterColumns:[parseInt($(this).val())]})});$('INPUT#select_all_checkbox',opts.tableID).click(function(){if($(this).attr('checked')){$('INPUT:checkbox',opts.tableID).each(function(){$(this).attr('checked',true);$(this).parent().parent().children().each(function(){if(!$(this).hasClass('row-clicked')){$(this).toggleClass('row-clicked')}})})}else{$('INPUT:checkbox',opts.tableID).each(function(){$(this).attr('checked',false);$(this).parent().parent().children().each(function(){$(this).toggleClass('row-clicked')})})}});$('INPUT:checkbox',opts.tableID).click(function(){if(!$(this).attr('checked')){$('INPUT#select_all_checkbox',opts.tableID).attr('checked',false)}$(this).parent().parent().children().each(function(){$(this).toggleClass('row-clicked')})});function highlightRow(src){var classClicked='row-clicked';if($(src).parent().parent().hasClass('even')){classClicked='row-clicked-even'}$(src).parent().parent().children().each(function(){$(src).toggleClass('row-clicked')})}eachRowHighlight();function eachRowHighlight(){$(opts.tableID).children().eq(1).children().each(function(){$(this).hover(function(){$(this).children().each(function(){$(this).addClass('highlighted')})},function(){$(this).children().each(function(){$(this).removeClass('highlighted')})})$(this).click(function(){})})}if(!$.browser.chrome){$('.blue_bar_high').css('margin-top','10px');$('.blue_bar_high').corners('3px')}if($.browser.msie){$('textarea').attr('rows','2')}else{$('textarea').autogrow({maxHeight:100})}$('#child_pager_two'+containerNavigation).css('margin-right','20px');$('.first','.pager'+containerNavigation).attr('align','absmiddle');$('.prev','.pager'+containerNavigation).attr('align','absmiddle');$('.next','.pager'+containerNavigation).attr('align','absmiddle');$('.last','.pager'+containerNavigation).attr('align','absmiddle');$('.pagedisplay','.pager'+containerNavigation).attr('style','text-align:center;');if(opts.render=='flexigrid'){$(opts.tableID).flexigrid()}if(opts.scrollbar!=''){if($('tbody',opts.tableID).height()<=parseInt(opts.scrollbar)){}else{$('tbody',opts.tableID).css({'overflow-x':'hidden','overflow-y':'scroll','height':opts.scrollbar+'px'})}}(opts.callback==''||opts.callback==undefined)?'':opts.callback()}});if(opts.returnThis){}function collapseTable(opts){$('#table_title').each(function(){$(this).unbind().hover(function(){$(this).css({'background-color':'#EBF4FB','cursor':'pointer'})},function(){$(this).css({'background-color':'#ffffff','cursor':'default'})}).click(function(){var table=$(opts.tableID);if(table.is(":hidden")){table.fadeIn('fast')}else{table.fadeOut('fast')}})})}},save:function(options,container,callback){var defaults={sqlID:'',userID:'',defaultValue:'',ID:'',ID1:'',ID2:'',parameter:'',parameter1:'',parameter2:'',parameter3:'',parameter4:'',parameter5:'',parameter6:'',parameter7:'',parameter8:'',parameter9:'',parameter10:'',parameter11:'',parameter12:'',parameter13:'',condition:'',condition1:'',condition2:'',selectOption:'',returnThis:false,response:'',container:'',lookup:true,callback:'',style:'',type:'',checkColumn:'',checkColumnParam:'',checkColumnDateConvert:'',updateColumn:'',updateWhereColumn:'',updateColumnParam:'',updateWhereColumnParam:'',updateWhereColumnDateConvert:'',loopData:''};var opts=$.extend({},defaults,options);var data='';var seperator='___';var index=0;index=opts.parameter.indexOf(seperator);if(index==-1){opts.parameter=nc.base.typeOf(opts.parameter)+seperator+opts.parameter}index=opts.parameter1.indexOf(seperator);if(index==-1){opts.parameter1=nc.base.typeOf(opts.parameter1)+seperator+opts.parameter1}index=opts.parameter2.indexOf(seperator);if(index==-1){opts.parameter2=nc.base.typeOf(opts.parameter2)+seperator+opts.parameter2}index=opts.parameter3.indexOf(seperator);if(index==-1){opts.parameter3=nc.base.typeOf(opts.parameter3)+seperator+opts.parameter3}index=opts.parameter4.indexOf(seperator);if(index==-1){opts.parameter4=nc.base.typeOf(opts.parameter4)+seperator+opts.parameter4}index=opts.parameter5.indexOf(seperator);if(index==-1){opts.parameter5=nc.base.typeOf(opts.parameter5)+seperator+opts.parameter5}index=opts.parameter6.indexOf(seperator);if(index==-1){opts.parameter6=nc.base.typeOf(opts.parameter6)+seperator+opts.parameter6}index=opts.parameter7.indexOf(seperator);if(index==-1){opts.parameter7=nc.base.typeOf(opts.parameter7)+seperator+opts.parameter7}index=opts.parameter8.indexOf(seperator);if(index==-1){opts.parameter8=nc.base.typeOf(opts.parameter8)+seperator+opts.parameter8}index=opts.parameter9.indexOf(seperator);if(index==-1){opts.parameter9=nc.base.typeOf(opts.parameter9)+seperator+opts.parameter9}index=opts.parameter10.indexOf(seperator);if(index==-1){opts.parameter10=nc.base.typeOf(opts.parameter10)+seperator+opts.parameter10}index=opts.parameter11.indexOf(seperator);if(index==-1){opts.parameter11=nc.base.typeOf(opts.parameter11)+seperator+opts.parameter11}index=opts.parameter12.indexOf(seperator);if(index==-1){opts.parameter12=nc.base.typeOf(opts.parameter12)+seperator+opts.parameter12}index=opts.parameter13.indexOf(seperator);if(index==-1){opts.parameter13=nc.base.typeOf(opts.parameter13)+seperator+opts.parameter13}opts.userID=view.getUserId();if(opts.sqlID!=''){data=data+'sqlID='+opts.sqlID}if(opts.userID!=''){data=data+'&userID='+opts.userID}if(opts.ID!=''){data=data+'&ID='+opts.ID}if(opts.ID1!=''){data=data+'&ID1='+opts.ID1}if(opts.ID2!=''){data=data+'&ID2='+opts.ID2}if(options.parameter!=undefined){data=data+'&parameter='+opts.parameter}if(options.parameter1!=undefined){data=data+'&parameter1='+opts.parameter1}if(options.parameter2!=undefined){data=data+'&parameter2='+opts.parameter2}if(options.parameter3!=undefined){data=data+'&parameter3='+opts.parameter3}if(options.parameter4!=undefined){data=data+'&parameter4='+opts.parameter4}if(options.parameter5!=undefined){data=data+'&parameter5='+opts.parameter5}if(options.parameter6!=undefined){data=data+'&parameter6='+opts.parameter6}if(options.parameter7!=undefined){data=data+'&parameter7='+opts.parameter7}if(options.parameter8!=undefined){data=data+'&parameter8='+opts.parameter8}if(options.parameter9!=undefined){data=data+'&parameter9='+opts.parameter9}if(options.parameter10!=undefined){data=data+'&parameter10='+opts.parameter10}if(options.parameter11!=undefined){data=data+'&parameter11='+opts.parameter11}if(options.parameter12!=undefined){data=data+'&parameter12='+opts.parameter12}if(options.parameter13!=undefined){data=data+'&parameter13='+opts.parameter13}if(opts.condition!=''){data=data+'&condition='+opts.condition}if(opts.condition1!=''){data=data+'&condition1='+opts.condition1}if(opts.condition2!=''){data=data+'&condition2='+opts.condition2}if(opts.type!=''){data=data+'&type='+opts.type}if(opts.checkColumn!=''){data=data+'&checkColumn='+opts.checkColumn}if(opts.checkColumnParam!=''){data=data+'&checkColumnParam='+opts.checkColumnParam}if(opts.checkColumnDateConvert!=''){data=data+'&checkColumnDateConvert='+opts.checkColumnDateConvert}if(opts.updateColumn!=''){data=data+'&updateColumn='+opts.updateColumn}if(opts.updateColumnParam!=''){data=data+'&updateColumnParam='+opts.updateColumnParam}if(opts.updateWhereColumn!=''){data=data+'&updateWhereColumn='+opts.updateWhereColumn}if(opts.updateWhereColumnParam!=''){data=data+'&updateWhereColumnParam='+opts.updateWhereColumnParam}if(opts.updateWhereColumnDateConvert!=''){data=data+'&updateWhereColumnDateConvert='+opts.updateWhereColumnDateConvert}if(opts.lookup){data=data+'&container='+opts.container}data=data+'&lookup='+opts.lookup;if(opts.container!=''){container=opts.container}$.ajax({type:"POST",url:nc.base.URL.save,data:data,success:function(msg){msg=$.trim(msg);opts.response=msg;var feedback='';feedback=opts.response.split('|')[1];if(feedback!=''){setTimeout(function(){nc.alert({title:'Warning',msg:feedback,option:'error'})},300)}(opts.callback==''||opts.callback==undefined)?'':opts.callback(opts.response)}});if(opts.returnThis){}},populate:function(options,container,callback){var defaults={defaultValue:'',ID:'',parameter:'',condition:'',selected:'',returnThis:false,response:'',container:'',lookup:true,inner_html:false,selectOption:true,callback:'',singleData:false,allValue:false,specialCase:'',page:'',form:'',international:'',parameter:'',trigger:true,functionCallback:true,success:''};var opts=$.extend({},defaults,options);var dataParam="";var formPopulate="";if(opts.form==''){formPopulate="#main_form"}else{formPopulate=opts.form}if(opts.page==''){dataParam="currPage="+$('[name=currPage]').val()+"&applid="+$('[name=applid]').val()+"&international="+$('[name=international]').val()}else{dataParam="currPage="+opts.page+"&applid="+$('[name=applid]').val()}if(opts.international!=''){dataParam=dataParam+"&international="+$('[name=international]').val()}if(opts.international=='false'){if(opts.page==''){dataParam="currPage="+$('[name=currPage]').val()+"&applid="+$('[name=applid]').val()}else{dataParam="currPage="+opts.page+"&applid="+$('[name=applid]').val()}}if(opts.parameter!=''){dataParam=dataParam+'&parameter='+opts.parameter}$.ajax({type:"POST",url:nc.hostName+"/action/applicant/register/populateForm",data:dataParam,success:function(msg){var JSONObj=$.trim(msg);var encoded=$.evalJSON(JSONObj);$(formPopulate).populate(encoded);if(opts.functionCallback){(opts.callback==''||opts.callback==undefined)?'':opts.callback()}if(opts.trigger){$(document).trigger('nc.populateForm')}}})},ajax:function(options,container,callback){var defaults={type:'POST',url:'',data:'',response:'',success:'',defaultValue:'',ID:'',parameter:'',condition:'',selected:'',returnThis:false,response:'',container:'',lookup:true,inner_html:false,selectOption:true,callback:'',singleData:false,allValue:false,specialCase:'',page:'',form:'',international:'',parameter:'',trigger:true,functionCallback:true,};var opts=$.extend({},defaults,options);if(opts.url==''){return'please specify url'}nc.out('ajax'+opts.type+opts.url)$.ajax({type:opts.type,url:opts.url,data:opts.data,success:function(msg){msg=$.trim(msg);opts.response=msg;var feedback='';feedback=opts.response.split('|')[1];if(feedback!=''){setTimeout(function(){nc.alert({title:'Warning',msg:feedback,option:'error'})},300)}(opts.success==''||opts.success==undefined)?'':opts.success(opts.response)}})},email:function(options,container,callback){var defaults={type:'POST',url:'',data:'',response:'',success:'',defaultValue:'',ID:'',parameter:'',condition:'',selected:'',returnThis:false,response:'',container:'',emailNo:'',lookup:true,inner_html:false,selectOption:true,callback:'',singleData:false,allValue:false,specialCase:'',page:'',form:'',international:'',parameter:'',trigger:true,functionCallback:true,};var opts=$.extend({},defaults,options);if(opts.url==''){return'please specify url'}$.ajax({type:opts.type,url:nc.base.URL.email,data:opts.data,success:function(msg){msg=$.trim(msg);opts.response=msg;var feedback='';feedback=opts.response.split('|')[1];if(feedback!=''){setTimeout(function(){nc.alert({title:'Warning',msg:feedback,option:'error'})},300)}(opts.success==''||opts.success==undefined)?'':opts.success(opts.response)}})},autocomplete:function(options,container,callback){var defaults={sqlID:'',defaultValue:'',ID:'',ID1:'',ID2:'',parameters:{},parameter:'',parameter1:'',parameter2:'',parameter3:'',parameter4:'',parameter5:'',parameter6:'',condition:'',condition1:'',condition2:'',selected:'',returnThis:false,response:'',container:'',lookup:false,inner_html:false,selectOption:true,callback:'',singleData:false,allValue:false,specialCase:'',selected:true,notOption:false,language:'BM',success:'',json:true,result:''};var opts=$.extend({},defaults,options);var data=nc.base.serialize(opts,defaults,options);$(opts.container).autocomplete(nc.base.URL.autocomplete,{width:$(opts.container).attr('width'),matchContains:true,formatItem:function(data,i,total,term){var response='';if(opts.json){var encoded=$.evalJSON(data);var theHTML='';$.each(encoded,function(val,text){theHTML=text})response=theHTML;return response}else{return data[0]}},formatResult:function(data,value){return value.split('|')[0]},extraParams:opts,callback:function(){(opts.success==''||opts.success==undefined)?'':opts.success(opts.response)}});if(opts.result){$(opts.container).result(function(event,data,formatted){opts.result()})}if(opts.returnThis){}},serialize:function(opts,defaults,options,msg){var data='';var count=0;for(var name in opts){if(name=='callback'||name=='htmlPagingPagerPopup'||name=='htmlPagingPager'||name=='success'){}else{if(opts[name]!=''){count++;data=data+((count==1)?'':'&')+name+'='+opts[name]}}}return data},serializeArray:function(opts,defaults,options,msg){var data='';var count=0;var index=0;var seperator='___';for(var name in opts){index=name.indexOf('parameter');if(index!=-1){index=opts[name].indexOf(seperator);if(index==-1){opts.parameter=nc.base.typeOf(opts.parameter)+seperator+opts.parameter}count++;if(count==1){data=data+name+'='+opts[name]}else{data=data+'&'+name+'='+opts[name]}}}return data},typeOf:function(str){var originalLength=str.length;var pattern=new RegExp('[^0-9]+','g');var originalStr=str;var val=str.replace(pattern,'');var indexDate=0;var validDate=false;indexDate=originalStr.indexOf('/');if(indexDate!=-1){validDate=true}var newLength=val.length;if(originalLength<=newLength){type="int"}else if(validDate){type="date"}else{type="str"}if(str=='sysdate'){type="date"}if(str=='seq'){type="int"}if(str.length==0){type="str"}return type},_cache_lookup:{},_cache_language:{},ignoremeplease:'thankyouverymuch'}

/*!
 *  JavaScript Library Function for nc.common
 *  Using jQuery JavaScript Library v1.3.2
 *  (c) 2009 Encoral Software Development team (R&D)
 *  
 *  Credit: Hudzaifah Hafiz
 *
 *  nc.common.js is under MIT license.
 *
 *--------------------------------------------------------------------------*/
var ncErr=ncErr||{};ncErr={data:''};
var nc=nc||{};jQuery(document).ready(function(){var smpEnable=false;if(this.domain!='applicant'){nc.time('IGIMS')nc.IGIMS();nc.timeEnd('IGIMS')$.datepicker.setDefaults($.datepicker.regional['us']);nc.tooltip();nc.extendjQuery();nc.bind()}});nc={Version:'0.3',bo:{},base:{},Language:{},session:{},debug:true,validReport:true,Bahasa:'my',English:'us',i:0,n:0,str:'',character:'',urlBreadCrumb:'',urlBC:'url',admin:/Admin/i,pensyarah:/Pensyarah/i,dekan:/Dekan/i,sessionCookie:'SMP_SESSION',hostName:window.location.protocol+'//'+window.location.hostname+':'+window.location.port+'/'+window.location.pathname.split('/')[1],hostname:window.location.protocol+'//'+window.location.hostname+':'+window.location.port+'/'+window.location.pathname.split('/')[1],domain:window.location.pathname.split('/')[3],hasFocus:null,inputSearch:null,htmlPagingPager:'<div class="table_bar"> '+'<span id="pager" class="pager"> '+'<span style="float:left;">  '+'<img class="search_s" src="'+nc.hostname+'/images/icon/search_small.png"/>  '+'<select id="select_s"><option>--</option></select>  '+'<input type="text" id="filter_box" class="search" value="" maxlength="20" size="20"  />  '+'<span class="button"><button id="filter_clear_button" type="button" value="RESET">RESET</button></span> '+'</span>  '+'<span id="child_pager_two" style="float:right">  '+'<img class="first" src="'+nc.hostname+'/images/icon/first.png" />  '+'<img class="prev" src="'+nc.hostname+'/images/icon/prev.png" />  '+'<input class="pagedisplay" type="text" size ="5" disabled style="text-align:center;"/>  '+'<img class="next" src="'+nc.hostname+'/images/icon/next.png" />  '+'<img class="last" src="'+nc.hostname+'/images/icon/last.png" />  '+'<select class="pagesize" > '+'<option value="10" selected="selected">10</option>  '+'<option value="20">20</option>  '+'<option value="30">30</option>  '+'</select>  '+'</span>  '+'</span>',time:function(timeVar){if(nc.debug){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.time(timeVar)}else{}}},timeEnd:function(timeVar){if(nc.debug){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.timeEnd(timeVar)}else{}}},formatInput:function(str,character){var index=0;var count=0;var temp=[];while(str.length>0){str=str.indexOf(character);if(index!=-1){temp[count]=input.substr(0,index);input=input.subst(index+1,input.length)}else{temp[i]=input;break}}if(temp.length<1){return null}var output=temp;return output},initcap:function(str){rope=str.substring(0,1).toUpperCase()+str.substring(1,str.length).toLowerCase();return rope},openWin:function(fileName,windowName){window.open(fileName,windowName,'width=350,height=350,directories=no,location=no,menubar=no, scrollbars=yes,status=no,toolbar=no,resizable=yes')},maximize:function(){window.moveTo(0,0);window.resizeTo(screen.availWidth,screen.availHeight)},highlightMouseOver:function(src){$(src).addClass('highlighted_mouseover');if($(src+':has(".highlighted")')){}else{$(src).addClass('highlighted_mouseover')}},highlightMouseOut:function(src){$(src).removeClass('highlighted_mouseover')},write:function(str){document.write(str)},isArray:function(object){if(!window.Array){return false}else{return object.constructor==window.Array}},alert:function(options){var defaults={msg:'',title:'',option:null,features:null,modal:null,opacity:null,closeOK:null,foot:null,popout:null,confirmed:null,autoClose:null,callback:null,closeButton:null};var opts=$.extend({},defaults,options);alertThis(opts.msg,opts.title,opts.option,opts.features,opts.modal,opts.opacity,opts.closeOK,opts.foot,opts.popout,opts.confirmed,opts.autoClose,opts.callback)},confirm:function(options){var defaults={msg:'',title:'',accept_callback:'',reject_callback:''};var opts=$.extend(defaults,options);confirmThis(opts.msg,opts.title,opts.accept_callback,opts.reject_callback)},popup:function(options){var defaults={title:'',msg:'',container:'',callback:''};var opts=$.extend(defaults,options);alertThis(opts.msg,opts.title,null,'form',null,null,null,null,null,null,null,opts.callback)},log:function(msg){(msg===undefined||msg===null)?'Log from nc':msg;if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log("%s: %o",msg,this)}else{}return this},out:function(msg){(msg===undefined||msg===null)?'Log from nc':msg;if(nc.debug){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log("%s: %o",msg,this)}else{}}return this},msgBar:function(type){if(type=="save"){}},lb:function(div,str){if(str===null||str===undefined)str='';$(div).html('<img src="'+nc.hostName+'/images/loading.gif"/> '+str)},ls:function(div,str){if(str===null||str===undefined)str='';$(div).html('<img src="'+nc.hostName+'/images/loading.gif" width="15" height="15"/>'+str)},loading:function(div){$(div).html('<img src="'+nc.hostName+'/images/ajax-loader.gif" />')},extendjQuery:function(){jQuery.fn.extend({disableButton:function(){return this.each(function(){$(this).attr('disabled',true).parent().attr('id','button_disabled')})},enableButton:function(){return this.each(function(){$(this).removeAttr('disabled').parent().removeAttr('id')})},splitIntoArray:function(str,character){var output=new Array();try{output=nc.formatInput(str,character)}catch(e){nc.out(e)}return output},debug:function(msg){(msg===undefined||msg===null)?'Log from nc':msg;try{}catch(e){}return this}})},pagingThis:function(div){var pagingSettingsNewPage="";var pagingSettingsMin="";var pagingSettingsMax="";var pagingSettingsPageCount="";var pagingSettingsRange="";$('.pagingThis').html(nc.htmlPaging);$(document).trigger('loading.smp.paging')},description:function(theInput,theContainer){var defaultTitle='Welcome to nc';var originalTitle='';var originalTitle2='';var idPrevious='';var idCurrent='';var firstTime=true;theInput=(theInput==''||theInput===undefined)?'input':theInput;theContainer=(theContainer==''||theContainer===undefined)?'body':theContainer;jQuery(theInput,theContainer).hover(function(data){originalTitle=jQuery(this).attr("title");originalTitle=jQuery.trim(originalTitle);if(originalTitle!=''){idCurrent=jQuery(this).attr("id");if(idCurrent===undefined||idCurrent==''){idCurrent=jQuery(this).attr("name")}originalTitle=jQuery(this).attr("title");if((firstTime)||(idPrevious!=idCurrent)){if(originalTitle!=''){jQuery(this).attr("title","");humanMsg.displayMsg(originalTitle)}}if(idPrevious==idCurrent){jQuery(this).attr("title","")}firstTime=false;idPrevious=idCurrent}else{originalTitle=''}},function(){if(originalTitle==''||originalTitle===undefined){}else{jQuery(this).attr("title",originalTitle)}})},breadCrumbPg:function(first,second,third,fourth){$(document).trigger('smp.breadcrumb');(first==null)?'':first;(second==null)?'':second;(third==null)?'':third;(fourth==null)?'':fourth;$.data(nc.urlBreadCrumb,nc.urlBC,{first:first,second:second,third:third,fourth:fourth});nc.breadCrumb()},validate:function(){if($('div.container-error').length>0){$('div.container-error').hide();var container=$('div.container-error');var validator=$("form.validate").validate({errorContainer:container,errorLabelContainer:$("ol",container),wrapper:'li',meta:"validate"})}},clean:function(div){$(div).html('')},randomCharacter:function(length){length=6;var chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";var pass="";for(var i=0;i<length;i++){var index=Math.floor(Math.random()*62);pass+=chars.charAt(index)}return randCharacter},escapeCharacter:function(str){return str.replace('"','&quot;')},onKeyChange:function(function_callback){if(lastKeyPressCode==46||(lastKeyPressCode>8&&lastKeyPressCode<32))return;var v=nc.inputSearch.val();if(v==prev)return;prev=v;if(v.length>=minChars){(function_callback==''||function_callback===undefined)?'':function_callback(v)}else{}},searchThis:function(input,func){nc.inputSearch=input;nc.inputSearch.keydown(function(e){lastKeyPressCode=e.keyCode;switch(e.keyCode){case 38:break;case 40:break;case 9:case 13:if(selectCurrent()){$input.get(0).blur()}break;default:active=-1;if(timeout)clearTimeout(timeout);timeout=setTimeout(function(){onKeyChange(func)},delay);break}}).focus(function(){nc.hasFocus=true}).blur(function(){nc.hasFocus=false})},err:function(str,src){var errorThrowed=$(str).find("pre").html();var tableError='<table cellspacing="0" cellpadding="0" border="0" width="100%"><tbody><tr height="10"> <td width="11"><img border="0" alt="upper left" src="'+nc.hostname+'/images/curve1_upper.gif"/><br/></td> <td bgcolor="#707378"/> <td width="11"><img border="0" alt="upper right" src="'+nc.hostname+'/images/curve2_upper.gif"/><br/> </td> </tr>   <tr>  <td bgcolor="#707378"/> <td bgcolor="#707378"> <table cellspacing="0" cellpadding="0" border="0" bgcolor="#707378" width="100%"> <tbody><tr>  <td width="6%"> </td>  <td width="2%"> </td>  <td width="92%"> </td> </tr>  <tr> <td><div align="right"><img border="0" alt="Application Error" src="'+nc.hostname+'/images/smp/InfoBox.png"/></div></td> <td> </td>  <td><font class="errorFont"><b>Information</b><br/>	<hr size="1" noshade=""/>  There has been a general Exception </font></td> </tr>  <tr> <td> </td><td> </td><td> </td> </tr> </tbody></table></td> <td height="10" bgcolor="#707378"> </td> </tr>  <tr> <td height="10" width="11"><img border="0" alt="down left" src="'+nc.hostname+'/images/curve1_down.gif"/></td>  <td height="10" bgcolor="#707378"/> <td height="10" width="11"><img border="0" alt="down right" src="'+nc.hostname+'/images/curve2_down.gif"/></td>  </tr>  </tbody></table>';alertThis(tableError+'<br /><br />For more information on this message, please contact <a href="mailto:masri@nc.com.my">nc Administrator</a>.<br /> <a href="javascript: ;" id="toggle-smp-error">Show Error</a><div id="smp-error" style="display:none">'+errorThrowed+'</div><script>var commandError = "show";$("#toggle-smp-error").click(function(){$("#smp-error").toggle();if(commandError=="show"){$("#toggle-smp-error").html("Hide Error");commandError = "hide";}else{$("#toggle-smp-error").html("Show Error");commandError="show";}});</script>','Application Error','div','error')},errAppl:function(str,src){var errorThrowed=str;var tableError='<table cellspacing="0" cellpadding="0" border="0" width="100%"><tbody><tr height="10"> <td width="11"><img border="0" alt="upper left" src="'+nc.hostname+'/images/curve1_upper.gif"/><br/></td> <td bgcolor="#707378"/> <td width="11"><img border="0" alt="upper right" src="'+nc.hostname+'/images/curve2_upper.gif"/><br/> </td> </tr>   <tr>  <td bgcolor="#707378"/> <td bgcolor="#707378"> <table cellspacing="0" cellpadding="0" border="0" bgcolor="#707378" width="100%"> <tbody><tr>  <td width="6%"> </td>  <td width="2%"> </td>  <td width="92%"> </td> </tr>  <tr> <td><div align="right"><img border="0" alt="Application Error" src="'+nc.hostname+'/images/smp/InfoBox.png"/></div></td> <td> </td>  <td><font class="errorFont"><b>Information</b><br/>	<hr size="1" noshade=""/>  There has been a general Exception </font></td> </tr>  <tr> <td> </td><td> </td><td> </td> </tr> </tbody></table></td> <td height="10" bgcolor="#707378"> </td> </tr>  <tr> <td height="10" width="11"><img border="0" alt="down left" src="'+nc.hostname+'/images/curve1_down.gif"/></td>  <td height="10" bgcolor="#707378"/> <td height="10" width="11"><img border="0" alt="down right" src="'+nc.hostname+'/images/curve2_down.gif"/></td>  </tr>  </tbody></table>';alertThis(tableError+'<br /><br />For more information on this message, please contact <a href="mailto:masri@nc.com.my">nc Administrator</a>.<br /> <a href="javascript: ;" id="toggle-smp-error">Show Error</a><div id="smp-error" style="display:none">'+errorThrowed+'</div><script>var commandError = "show";$("#toggle-smp-error").click(function(){$("#smp-error").toggle();if(commandError=="show"){$("#toggle-smp-error").html("Hide Error");commandError = "hide";}else{$("#toggle-smp-error").html("Show Error");commandError="show";}});</script>','Application Error','div','error')},imageHover:function(){var originImagePath="";var arrayClassImageToBeHovered=new Array("ui");for(var i=0;i<arrayClassImageToBeHovered.length;i++){$("img[class^="+arrayClassImageToBeHovered[i]+"]").hover(function(){$(this).attr('style','cursor:pointer');originImagePath=$(this).attr('src');var tempPathImage=originImagePath;var tempPathImage2=originImagePath;var indexExt=0;var extension="";indexExt=tempPathImage.indexOf('.');tempPathImage=tempPathImage.substring(0,indexExt);extension=tempPathImage2.substring(indexExt+1,tempPathImage2.length);var newImageHover=tempPathImage+'_hover.'+extension;var pathImage=newImageHover;$(this).attr('src',pathImage)},function(){$(this).attr('src',originImagePath)})}},humanMsg:function(){(humanMsg.length!==undefined)?humanMsg.setup():''},bind:function(){$(document).bind('ajaxNCError',function(e){var h=setTimeout(function(){nc.err(ncErr.data)},1000)});$(document).bind('ajaxSMPApplError',function(e){var h=setTimeout(function(){nc.errAppl(ncErr.data)},1000)})},strip:function(){return this.replace(/^\s+/,'').replace(/\s+$/,'')},toQueryParams:function(separator){var match=this.strip().match(/([^?#]*)(#.*)?$/);if(!match)return{};return match[1].split(separator||'&').inject({},function(hash,pair){if((pair=pair.split('='))[0]){var key=decodeURIComponent(pair.shift());var value=pair.length>1?pair.join('='):pair[0];if(value!==undefined)value=decodeURIComponent(value);if(key in hash){if(!Object.isArray(hash[key]))hash[key]=[hash[key]];hash[key].push(value)}else hash[key]=value}return hash})},tez:function(x){nc.log(x)},test:function(){var test=0;return(test==0)?true:false},getSort:function(){return'a'},getCurrentDate:function(){var currentTime=new Date()var month=currentTime.getMonth()+1 var day=currentTime.getDate()var year=currentTime.getFullYear()if(month<10){month='0'+month}return day+'/'+month+'/'+year},getCurrentDay:function(){var d=new Date();var weekdays=new Array(7);var weekdayBM=new Array(7);weekdayBM[0]="Ahad";weekdayBM[1]="Isnin";weekdayBM[2]="Selasa";weekdayBM[3]="Rabu";weekdayBM[4]="Khamis";weekdayBM[5]="Jumaat";weekdayBM[6]="Sabtu";var weekdayBI=new Array(7);weekdayBI[0]="Sunday";weekdayBI[1]="Monday";weekdayBI[2]="Tuesday";weekdayBI[3]="Wednesday";weekdayBI[4]="Thursday";weekdayBI[5]="Friday";weekdayBI[6]="Saturday";if(view.getLanguage()==nc.Bahasa){weekdays=weekdayBM}else{weekdays=weekdayBI}return weekdays[d.getDay()]},convertDay:function(str){var newHari="";var weekdayBM=new Array(7);weekdayBM[0]="Ahad";weekdayBM[1]="Isnin";weekdayBM[2]="Selasa";weekdayBM[3]="Rabu";weekdayBM[4]="Khamis";weekdayBM[5]="Jumaat";weekdayBM[6]="Sabtu";var weekdayBI=new Array(7);weekdayBI[0]="Sunday";weekdayBI[1]="Monday";weekdayBI[2]="Tuesday";weekdayBI[3]="Wednesday";weekdayBI[4]="Thursday";weekdayBI[5]="Friday";weekdayBI[6]="Saturday";for(var i=0;i<weekdayBI.length;i++){if($.trim(str).toLowerCase()==weekdayBM[i].toLowerCase()){newHari=weekdayBI[i]}else{for(var j=0;j<weekdayBI.length;j++){if($.trim(str).toLowerCase()==weekdayBI[j].toLowerCase()){newHari=weekdayBM[j]}}}}return newHari.toUpperCase()},convertDayBI:function(str){var newHari="";var weekdayBM=new Array(7);weekdayBM[0]="Ahad";weekdayBM[1]="Isnin";weekdayBM[2]="Selasa";weekdayBM[3]="Rabu";weekdayBM[4]="Khamis";weekdayBM[5]="Jumaat";weekdayBM[6]="Sabtu";var weekdayBI=new Array(7);weekdayBI[0]="Sunday";weekdayBI[1]="Monday";weekdayBI[2]="Tuesday";weekdayBI[3]="Wednesday";weekdayBI[4]="Thursday";weekdayBI[5]="Friday";weekdayBI[6]="Saturday";for(var i=0;i<weekdayBI.length;i++){if($.trim(str).toLowerCase()==weekdayBM[i].toLowerCase()){newHari=weekdayBI[i]}else{newHari=str}}return newHari.toUpperCase()},pageDetail:function(options){var defaults={total:0,page:0,range:0}var opts=$.extend(defaults,options);var min=0;var max=0;var newPage=0;var range=opts.range;var pageCount=0;pageCount=Math.floor((opts.total/opts.range));if(opts.total%opts.range!=0){pageCount=pageCount+1}if(opts.page==0){opts.page=1}newPage=opts.page;max=newPage*opts.range;min=max-(opts.range-1);if(max-opts.range>=opts.total){max=opts.total;newPage=opts.page-1;min=(newPage*opts.range)-(opts.range-1)}else if(max>opts.total){max=opts.total;newPage=opts.page}nc.bo.pageVO.setNewPage(newPage);nc.bo.pageVO.setMin(min);nc.bo.pageVO.setMax(max);nc.bo.pageVO.setpageCount(pageCount);nc.bo.pageVO.setRange(opts.range);nc.bo.pageVO.setPageCount(pageCount);nc.bo.pageVO.setTotal(opts.total)},calendar:function(elem,dateFormat){var dateFormatInternal='';if(dateFormat===undefined){dateFormatInternal='dd/mm/yy - DD'}else{dateFormatInternal=dateFormat}$(elem).datepicker({duration:'',showButtonPanel:true,dateFormat:dateFormatInternal,changeMonth:true,changeYear:true,showOn:'button',buttonImage:nc.hostname+'/images/cal.gif',buttonImageOnly:true})},timePicker:function(elem){$(elem).timepickr({handle:'#trigger-test'})},gohref:function(msg){location.href=msg},go:function(msg){location.href=msg},nextPage:function(path){var url=nc.hostName;var applid=nc.getParameter('applid');url=url+'/action/portal/admission/'+path+'?applid='+applid;nc.gohref(url)},getParameter:function(name){name=name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");var regexS="[\\?&]"+name+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(window.location.href);if(results==null)return"";else return results[1]},compareDate:function(frontName1,frontName2){var noError=true;var registerFN1=[];var registerFN2=[];var x=0;$('input[name^='+frontName1+']').each(function(){registerFN1[x]=$(this);x++});var y=0;$('input[name^='+frontName2+']').each(function(){registerFN2[y]=$(this);y++});for(var i=0;i<x;i++){var date1=new Date(registerFN1[i].val().substr(6,4)+"/"+registerFN1[i].val().substr(3,2)+"/"+registerFN1[i].val().substr(0,2)).toString();var date2=new Date(registerFN2[i].val().substr(6,4)+"/"+registerFN2[i].val().substr(3,2)+"/"+registerFN2[i].val().substr(0,2)).toString();if(date1>date2){registerFN1[i].addClass("invalidDate");registerFN2[i].addClass("invalidDate");noError=false}}return noError},getScript:function(url,callback,cache){$.ajax({type:"GET",url:url,success:callback,dataType:"script",cache:cache})},setAttribute:function(name,value,func){$.ajax({type:"POST",url:nc.hostName+"/action/setAttribute",data:"value="+value+"&name="+name,cache:false,success:function(value){$(document).trigger('nc.setAttribute_'+name);if(func!=undefined){func()}}})},getAttribute:function(name){var response="";$.ajax({type:"POST",url:nc.hostName+"/action/getAttribute",data:"name="+name,cache:false,success:function(value){nc.subMenuHTML=value;$(document).trigger('nc.getAttribute_'+name)}})},alterFacebox:function(){},validateReport:function(exclude){var msg="";var please='SILA PILIH';var nl="<br />";nc.validReport=true;var excludeArr=[];var pattern='';if(exclude==undefined){excludeArr=[' ']}else{excludeArr=exclude.split(',')}$('select','[name=main_form]').each(function(){if(exclude!=undefined){pattern='/'+$(this).attr('id')+'/gi';if(!exclude.match(/$(this).attr('id')/gi)){}else{if($(this).val()=='-'){var name=$(this).parent().prev().prev().html();msg=msg+please+" "+name+nl;nc.validReport=false}}}else{if($(this).val()=='-'){var name=$(this).parent().prev().prev().html();msg=msg+please+" "+name+nl;nc.validReport=false}}});if(!nc.validReport){alertThis(msg,'Alert');$('button','[name=main_form]').unbind('click')}else{prepareURL()}},tooltip:function(){var title="";var excludeImage=["rounded_top_reverse","rounded_top","arrow.1","defaultstudent"];var imgObjExclude='';for(var a=0;a<excludeImage.length;a++){imgObjExclude=imgObjExclude+'img[src*='+excludeImage[a]+']'+((a+1==excludeImage.length)?'':',')}nc.out(imgObjExclude)$('img','body').not(imgObjExclude).each(function(){decodeTitle(this)});$(document).bind('doneRender sortEnd sortOn',function(){$('img','.mysortablescroll , .sortablescroll').each(function(){decodeTitle(this)});$('img.search_s, img.first, img.prev, img.next, img.last','.blue_bar_high, .facebox, body').each(function(){decodeTitle(this)});$('#select_all_checkbox, #checkboxselectall').each(function(){var titleCheckbox=$(this).attr('title');$(this).tipsy({gravity:'s',title:function(){return $(this).attr('original-title').toUpperCase()}})})});var iconTitleBM=[];var iconTitleBI=[];function decodeTitle(element){if($(element).attr("disabled")==undefined){title=$(element).attr('src');if(title==undefined)title="";if(title.match(/edit/gi)){title=(view.getLanguage()==nc.Bahasa)?'Kemaskini':'Edit'}else if(title.match(/delete/gi)){title=(view.getLanguage()==nc.Bahasa)?'Hapus':'Delete'}else if(title.match(/print/gi)){title=(view.getLanguage()==nc.Bahasa)?'Cetak':'Print'}else if(title.match(/add/gi)){title=(view.getLanguage()==nc.Bahasa)?'Tambah':'Add'}else if(title.match(/search/gi)){title=(view.getLanguage()==nc.Bahasa)?'Carian':'Search'}else if(title.match(/view/gi)){title=(view.getLanguage()==nc.Bahasa)?'Papar':'Display'}else if(title.match(/send/gi)){title=(view.getLanguage()==nc.Bahasa)?'Hantar':'Send'}else if(title.match(/file/gi)){title=(view.getLanguage()==nc.Bahasa)?'Pilih':'Select'}else if(title.match(/first/gi)){title=(view.getLanguage()==nc.Bahasa)?'Pertama':'First'}else if(title.match(/prev/gi)){title=(view.getLanguage()==nc.Bahasa)?'Sebelum':'Previous'}else if(title.match(/next/gi)){title=(view.getLanguage()==nc.Bahasa)?'Selepas':'Next'}else if(title.match(/last/gi)){title=(view.getLanguage()==nc.Bahasa)?'Akhir':'Last'}else if(title.match(/cal/gi)){title=(view.getLanguage()==nc.Bahasa)?'Kalendar':'Calendar'}else if(title.match(/close/gi)){title=(view.getLanguage()==nc.Bahasa)?'Tutup':'Close'}else if(title.match(/change/gi)){title=(view.getLanguage()==nc.Bahasa)?'Tukar':'Change'}else if(title.match(/cross/gi)){title=(view.getLanguage()==nc.Bahasa)?'Hapus':'Delete'}else if(title.match(/clipboard/gi)){title=(view.getLanguage()==nc.Bahasa)?'Had Capaian':'View Access'}else if(title.match(/house/gi)){title=(view.getLanguage()==nc.Bahasa)?'Muka Utama':'Main Page'}else if(title.match(/error/gi)){title=(view.getLanguage()==nc.Bahasa)?'Kesalahan':'Error'}else if(title.match(/user-comment-red/gi)){title=(view.getLanguage()==nc.Bahasa)?'Lihat Keseluruhan Profil':'View complete profile'}else if(title.match(/i_tasks/gi)){title=(view.getLanguage()==nc.Bahasa)?'Tugasan':'Tasks'}else if(title.match(/letter/gi)){title=(view.getLanguage()==nc.Bahasa)?'Surat':'Letter'}else if(title.match(/process/gi)){title=(view.getLanguage()==nc.Bahasa)?'Proses':'Proces'}$(element).attr('title',title).tipsy({gravity:'s',title:function(){return $(element).attr('original-title').toUpperCase()}})}}},ajaxPage:function(url,containerid,isInit){nc.out('ajaxPage'+',isInit:'+isInit+',containerid:'+containerid);var page_request=false if(window.XMLHttpRequest){page_request=new XMLHttpRequest()}else if(window.ActiveXObject){try{page_request=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{page_request=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){nc.out('failed to create pbject')}}}else{return false}if(!isInit){page_request.onreadystatechange=function(){if(containerid!=''){nc.loadpage(page_request,containerid)}}}},loadpage:function(page_request,containerid){nc.out('loadpage');if(page_request.readyState==4&&(page_request.status==200||window.location.href.indexOf("http")==-1))document.getElementById(containerid).innerHTML=page_request.responseText},isLecturer:function(){return(nc.pensyarah.test(view.getRole()))?true:false},isAdmin:function(){return(nc.admin.test(view.getRole()))?true:false},isDekan:function(){return(nc.dekan.test(view.getRole()))?true:false},setDialog:function(content,header){$('.header','#facebox').children().eq(0).html(header);$('.content','#facebox').html(content)},uppercase:function(src){$(src).keyup(function(e){var val=$(this).val();val=val.toUpperCase();$(this).val(val)})},animateTab:function(){var navDuration=150;var navJumpHeight="0.45em";$('.tabs-nav li').each(function(){$(this).hover(function(){$(this).animate({top:"-="+navJumpHeight},navDuration)},function(){$(this).animate({top:"15px"},navDuration)})})},getCookie:function(){return jQuery.cookie(nc.sessionCookie)||0},alterTable:function(){$(document).unbind().bind('doneRender',function(){nc.out('doneRender')$('.sortablescroll').children().eq(1).children().each(function(){$(this).unbind().hover(function(){$(this).children().each(function(){$(this).addClass('highlighted')})},function(){$(this).children().each(function(){$(this).removeClass('highlighted')})})$(this).click(function(){})});var nthColumnBIL=0})function sortBilangan(){var nthColumnBIL=0;var totalPage=$('.pagedisplay').val();var indexPage=totalPage.indexOf('/');totalPage=totalPage.substr(0,indexPage);var pageSize=$('.pagesize').val();$('.sortablescroll').children().each(function(i){var childrenTable=i;var instance=this;var totalRecord=0;$('.sortablescroll').children().eq(0).children().children().each(function(j){if(childrenTable==0){if($(this).html().toUpperCase()=='BIL'){nthColumnBIL=j+1}}})var numberingPool=((pageSize*totalPage)-pageSize)+1;var numbering=0;$('.sortablescroll').children().eq(1).children().each(function(j){numbering=numberingPool+j;$(this).children(':nth-child('+nthColumnBIL+')').html(numbering)})})}$(document).unbind().bind('doneRender',function(){sortBilangan()})},IGIMS:function(){var fullScreenStatus=false;colorContentCol('ffffff');alterTable();menuAccordian();moveAddLinkToPagelinks();addWidthInBILColumn();deleteTableBorder();replaceCalendar();leftAlignTable();removeCellspacingTableMsg();findubeforeahref();removeSemicolon();logo();breadcrumb();bindAjax();fullScreen();fullScreen2();addPageTitle();gradientTopBar();fixRedundantTBody();increaseFontSize();fixedBreadcrumb();jqtransform();function jqtransform(){$('form').jqTransform();$(document).bind('nc.base.lookup',function(){$('form').jqTransform()})}function fixedBreadcrumb(){var ele="div#breadcrumb-bar";var menuYloc=parseInt($(ele).css("top").substring(0,$(ele).css("top").indexOf("px")));if($.browser.msie){$(window).scroll(function(){offset=menuYloc+$(window).scrollTop()+"px";offsetInt=menuYloc+$(window).scrollTop();if(fullScreenStatus){}else{if(offsetInt>((menuYloc*2)+17)){$('#breadcrumb-bar').css({'position':'fixed','top':'0px'});$('#top-shadow').css({'position':'fixed','top':'24px'})}else if(offsetInt==47){$('#breadcrumb-bar').css({'position':'absolute','top':'47px'});$('#top-shadow').css({'position':'absolute','top':'70px'})}}})}else{$(document).scroll(function(){offset=menuYloc+$(document).scrollTop()+"px";offsetInt=menuYloc+$(document).scrollTop();if(fullScreenStatus){}else{if(offsetInt>((menuYloc*2)+17)){$('#breadcrumb-bar').css({'position':'fixed','top':'0px'});$('#top-shadow').css({'position':'fixed','top':'24px'})}else if(offsetInt==47){$('#breadcrumb-bar').css({'position':'absolute','top':'47px'});$('#top-shadow').css({'position':'absolute','top':'70px'})}}})}nc.out('menuYloc'+menuYloc)}function increaseFontSize(){var size=16;$(".controls .up").click(function(){size++;$("body").animate({fontSize:size})});$(".controls .down").click(function(){size--;$("body").animate({fontSize:size})})}function colorContentCol(color){$('#contentCol, #bottomContent, td.columnBodyContent').css({'background-color':'#'+color})}function fixRedundantTBody(){var tBodies=[];$('tbody','.tablesorter').each(function(i){tBodies[i]=$(this).html();$(this).remove()});$('thead','.tablesorter').after("<tbody></tbody>")$('tbody','.tablesorter').html(tBodies.join(" "))}function changeTheme(){$('#breadcrumb-bar, .treeview li.selected').css({'background-color':'#0068CF'});$('#red-bar').gradient({from:'024796',to:'0068CF',direction:'horizontal'});$('tbody tr td a').css({'color':'#0068CF'});$('tr.tableRowEven, tr.even').css({'background-color':'#E5F1FF'})}function addPageTitle(){if($('.page_title').size()==0){$('<div class="page_title">Page title</div>').prepend('#contentCol')}else{}}function gradientTopBar(){$('#red-bar').gradient({from:'cf0000',to:'B80000',direction:'horizontal'})}function fullScreen(){$('#fullScreen').toggle(function(){$(this).html('&raquo;');$('#leftCol').css({'margin-left':'-182px'});$('#contentCol,#bottomContent,#footer').css({'margin-left':'0'})},function(){$(this).html('&laquo;');$('#leftCol').css({'margin-left':'0'});$('#contentCol,#bottomContent,#footer').css({'margin-left':'181px'})})}function fullScreen2(){$('#fullScreen2').toggle(function(){$(this).html('-');$('#breadcrumb-bar').css({'top':'0px','position':'fixed'});$('#top-shadow').css({'top':'24px','position':'fixed'});$('#top-bar, #red-bar').css({'top':'-47px'});$('#mainContainer').css({'position':'relative','top':'-17px'});$('#contentCol').css({'padding-top':'2px'});$('#leftCol').css({'padding-top':'2px'});$('#fullScreen').click();fullScreenStatus=true},function(){$(this).html('+');$('#breadcrumb-bar').css({'top':'47px','position':'absolute'});$('#top-shadow').css({'top':'70px','position':'absolute'});$('#top-bar, #red-bar').css({'top':'0px'});$('#mainContainer').css({'position':'','top':''});$('#contentCol').css({'padding-top':'30px'});$('#leftCol').css({'padding-top':'30px'});$('#fullScreen').click();fullScreenStatus=false})}function searchGlobal(){$('input#search_menu').autocomplete(aValue,{matchContains:true,minChars:0,max:10,scroll:false,scrollHeight:300,formatItem:function(data,i,total){return data[0].split("|")[1]+'<br /><span style="font-size: 80%;">'+data[0].split("|")[2]+'>'+data[0].split("|")[1]+'</span>'},width:200,formatResult:function(data){return data[0].split("|")[1]}}).result(function(event,data,formatted){location.href=data[0].split('|')[0]});$('input#search_menu').keyup(function(){var keyUp=$(this);$('ul.treeview li').each(function(){if($(this).find('a').html()==keyUp.val()){var x=$(this).filter($(this));$("#sub_menu_ajax").html(x)}})})}function menu(){$("#tree").treeview({collapsed:true,animated:"fast",unique:true,persist:"location"}).find('a').each(function(){var a=this if($(a).attr('href')=='javascript: ;'){$(a).click(function(){$(a).prev().click()})}else{$(a).tipsy({gravity:'w',title:function(){return $(a).attr('original-title').toUpperCase()}})}if($(a).hasClass('selected')){$(a).parent().addClass('selected')}})}function menuAccordian(){var menu="#tree";$(menu+' ul').hide();$(menu+' ul:first').show();$(menu+' li a').click(function(){var checkElement=$(this).next();if((checkElement.is('ul'))&&(checkElement.is(':visible'))){return false}if((checkElement.is('ul'))&&(!checkElement.is(':visible'))){$(menu+' ul:visible').slideUp('normal');checkElement.slideDown('normal');return false}});$(menu+' li a').mouseover(function(){$(this).next().slideDown(500).siblings("ul").slideUp("slow")})}function menuAccordian2(){var menu="#tree";$(menu+' li a').click(function(){$(this).next("ul").slideToggle(300).siblings("ul").slideUp("slow")});$(menu+' li a').mouseover(function(){$(this).css({backgroundImage:"url(down.png)"}).next("ul").slideDown(500).siblings("div.menu_body").slideUp("slow")})}function alterTable(){var cloneAddLink=null;var pagebanner=$('.pagebanner').html();$('h2').addClass('page_title');$('.pagelinks').prepend(pagebanner).replaceText(/next/gi,'<img align="absmiddle" src="'+nc.hostname+'/images/icon/next.png" class="next" />').replaceText(/last/gi,'<img align="absmiddle" src="'+nc.hostname+'/images/icon/last.png" class="next" />').replaceText(/first/gi,'<img align="absmiddle" src="'+nc.hostname+'/images/icon/first.png" class="next" />').replaceText(/prev/gi,'<img align="absmiddle" src="'+nc.hostname+'/images/icon/prev.png" class="next" />').replaceText(/displaying/gi,'').replaceText(/found/gi,'').replaceText(/\[/gi,'').replaceText(/\]/gi,'').replaceText(/\//gi,'').click(function(e){}).next().each(function(){$(this).css({'border-collapse':'collapse'}).click(function(e){})})$('.pagelinks a').replaceText(/next/gi,'<img align="absmiddle" src="'+nc.hostname+'/images/icon/next.png" class="next" />').replaceText(/last/gi,'<img align="absmiddle" src="'+nc.hostname+'/images/icon/last.png" class="next" />').replaceText(/first/gi,'<img align="absmiddle" src="'+nc.hostname+'/images/icon/first.png" class="next" />').replaceText(/prev/gi,'<img align="absmiddle" src="'+nc.hostname+'/images/icon/prev.png" class="next" />')$('.pagebanner').html('').after('<div id="table_title" style="cursor: default;" class="">Listing<div class="ptogtitle" title="Minimize/Maximize Table"><span/></div></div>').remove();collapseTable();var input=$('[name=queryID]').clone().end().remove();var button=$('[name=queryString]').next().clone().end().remove();var input2=$('[name=queryString]').clone().end().remove();$('.pagelinks').prepend(button).prepend(input2).prepend(input);$(input).wrap('<span style="float:left;"></span>');$(input2).wrap('<span style="float:left;"></span>');$(button).wrap('<span style="float:left;"></span>');var inputCheckBox='<input type="checkbox" value="" id="select_all_checkbox" class="vtip" title="Select All"/>';var x=$('#table_title').siblings('a').html();if(x!=null){if(x.match(/toggle/gi)||x.match(/check/gi)){if(x.match(/check/gi)){$('#table_title').prev().prev().remove();$('#table_title').prev().prev().remove()}else if(x.match(/toggle/gi)){$('#table_title').prev().remove()}$('.sortableTableHead').eq(0).html(inputCheckBox);$('INPUT#select_all_checkbox').click(function(){if($(this).attr('checked')){$('INPUT:checkbox').each(function(){$(this).attr('checked',true);$(this).parent().parent().children().each(function(){if(!$(this).hasClass('row-clicked')){$(this).toggleClass('row-clicked')}})})}else{$('INPUT:checkbox').each(function(){$(this).attr('checked',false);$(this).parent().parent().children().each(function(){$(this).toggleClass('row-clicked')})})}})}}$('#table_title').parents('table.msg').removeClass('msg')}function putTableTitle(){if($('#table_title').size()==0){if($('.sortablescroll').size()!=0){$('<div id="table_title">Listing<div title="Minimize/Maximize Table" class="ptogtitle"><span/></div></div>').insertBefore('.blue_bar_high');collapseTable()}}else{}}function collapseTable(){$('#table_title').each(function(){$(this).unbind().hover(function(){$(this).css({'background-color':'#EBF4FB','cursor':'pointer'})},function(){$(this).css({'background-color':'#ffffff','cursor':'default'})}).click(function(){var table=$('.pagelinks').next();if(table.is(":hidden")){table.fadeIn('fast')}else{table.fadeOut('fast')}})})}function collapseTable2(){$('#table_title').each(function(){$(this).unbind().hover(function(){$(this).css({'background-color':'#EBF4FB','cursor':'pointer'})},function(){$(this).css({'background-color':'#ffffff','cursor':'default'})}).click(function(){var table=$('.tablesorter').next();if(table.is(":hidden")){table.fadeIn('fast')}else{table.fadeOut('fast')}})})}function moveAddLinkToPagelinks(){$('body').find('a').each(function(){if($(this).html().match(/add/gi)){var addClone=$(this).clone();$('.pagelinks').prepend(addClone);$(addClone).wrap('<div class="button_tambah"></div>');$(addClone).wrap('<div class="button_tambah_wrapper"></div>');$(this).remove()}})}function selectCurrentHref(){var currentLocation=location.href.toLowerCase().split('?')[0];var current=$('.treeview').find("a").filter(function(){return this.href.toLowerCase().split('?')[0]==currentLocation.toLowerCase()});if(current.length){current.parent().addClass("selected");current.addClass("selected").parents("ul, li").add(current.next()).show()}}function addWidthInBILColumn(){var table=$('.pagelinks').next();$('thead tr th',table).eq('0').each(function(){$(this).css({'width':'0.5%'})})}function deleteTableBorder(){$('tr.rowHeadContent, tr.tableHeadContent').parents('table:first').attr('border','0').attr('id','tablesorter').attr('class','tablesorter').before('<div id="table_title">Listing<div title="Minimize/Maximize Table" class="ptogtitle"><span/></div></div>')setTimeout(function(){tablerize()},100)}function tablerize(){var containerNavigation="";var page=0;$('.tablesorter').tablesorter({widgets:['zebra']}).tablesorterPager({container:$("#pager"+containerNavigation),page:(page==0)?page:parseInt(page)-1}).tablesorterFilter({filterContainer:$("#filter_box","#pager"+containerNavigation),filterClearContainer:$("#filter_clear_button","#pager"+containerNavigation),filterCaseSensitive:false})}function deleteRedundantBr(){$('body br').remove();$('table').attr('border','0')}function replaceCalendar(){$('a[id*=CPLINK]').each(function(){nc.calendar($(this).prev(),'dd-mm-yyyy');$(this).prev().attr('readOnly')$(this).remove()})}function leftAlignTable(){var targetx=$('table');targetx.each(function(){if($(this).attr('align')=='center'){$(this).attr('align','')}})}function removeCellspacingTableMsg(){$('table.msg, table.edrowerbg2').each(function(){$(this).attr('cellspacing','0')})}function findubeforeahref(){$('a > u').each(function(){$(this).prev().remove()})}function removeSemicolon(){$('.columnBodyContent').replaceText(/:/gi,'')}function logo(){$('.logo').css({'cursor':'pointer'}).click(function(){nc.gohref(nc.hostname+'/action/main/indexSetup')})}function breadcrumb(){var breadCumb=$('#breadcrumb-text').html();breadCumb=$.trim(breadCumb);var splitter=($.browser.chrome)?'>>':'&gt;&gt;';var breadCrumbs=breadCumb.split(splitter);var newBreadCrumbs='';var urlBreadCrumbList="";var olBO='<ol id="breadcrumb">';var olBC='</ol>';var liBO='<li id="bc-url">';var liBC='</li>';var divBO='<div id="breadcrumb-sub-main">';var divBC='</div>';var loading='<span id="loading_smp_ajax" style="padding-left:10px;"><img src="'+nc.hostName+'/images/common/indicator.gif" align="absmiddle" width="12px" height="12px" /></span>';for(var i=0;i<breadCrumbs.length;i++){if(i==0){if((breadCrumbs.length)==1){newBreadCrumbs=newBreadCrumbs+liBO+'<a href="'+urlBreadCrumbList+'" class="first">'+breadCrumbs[i]+'</a>'+liBC+loading}else{newBreadCrumbs=newBreadCrumbs+liBO+'<a href="'+urlBreadCrumbList+'" class="first">'+breadCrumbs[i]+'</a>'+liBC}}else if(i==breadCrumbs.length-1){newBreadCrumbs=newBreadCrumbs+liBO+'<a href="'+urlBreadCrumbList+'" class="last">'+breadCrumbs[i]+'</a>'+liBC+loading}else{newBreadCrumbs=newBreadCrumbs+liBO+'<a href="'+urlBreadCrumbList+'" class="middle">'+breadCrumbs[i]+'</a>'+liBC}}newBreadCrumbs=divBO+olBO+newBreadCrumbs+olBC+divBC;$('#breadcrumb-text').html(newBreadCrumbs)}function bindAjax(){$("#loading_smp_ajax").hide().bind("ajaxSend",function(){$(this).show()}).bind("ajaxComplete",function(){$(this).hide()})}function chart(){chart=new Highcharts.Chart({chart:{renderTo:'rightCol',defaultSeriesType:'bar'},title:{text:'Historic World Population by Region'},subtitle:{text:'Source: Wikipedia.org'},xAxis:{categories:['Africa','America','Asia','Europe','Oceania'],title:{text:null}},yAxis:{min:0,title:{text:'Population (millions)',align:'high'}},tooltip:{formatter:function(){return''+this.series.name+': '+this.y+' millions'}},plotOptions:{bar:{dataLabels:{enabled:true}}},legend:{layout:'vertical',align:'right',verticalAlign:'top',x:-100,y:100,borderWidth:1,backgroundColor:'#FFFFFF'},credits:{enabled:false},series:[{name:'Year 1800',data:[107,31,635,203,2]},{name:'Year 1900',data:[133,156,947,408,6]},{name:'Year 2008',data:[973,914,4054,732,34]}]})}function liveChart(){chart=new Highcharts.Chart({chart:{renderTo:'rightCol',defaultSeriesType:'spline',marginRight:10,events:{load:function(){var series=this.series[0];setInterval(function(){var x=(new Date()).getTime(),y=Math.random();series.addPoint([x,y],true,true)},1000)}}},title:{text:'Live random data',style:{margin:'10px 100px 0 0'}},xAxis:{type:'datetime',tickPixelInterval:150},yAxis:{title:{text:'Value'},plotLines:[{value:0,width:1,color:'#808080'}]},tooltip:{formatter:function(){return'<b>'+this.series.name+'</b><br/>'+Highcharts.dateFormat('%Y-%m-%d %H:%M:%S',this.x)+'<br/>'+Highcharts.numberFormat(this.y,2)}},legend:{enabled:false},exporting:{enabled:false},series:[{name:'Random data',data:(function(){var data=[],time=(new Date()).getTime(),i;for(i=-19;i<=0;i++){data.push({x:time+i*1000,y:Math.random()})}return data})()}]})}},subMenu:function(){$("#tree").treeview({collapsed:true,unique:true,persist:"location"})},ignoremeplease:'thankyouverymuch'};jQuery.expr[':'].containsIgnoreCase=function(a,i,m){return(a.textContent||a.innerText||jQuery(a).text()||'').toLowerCase().indexOf((m[3]||'').toLowerCase())>=0};
		
/*!
 *  JavaScript Library Function for nc.native
 *  Using jQuery JavaScript Library v1.3.2
 *  (c) 2009 Encoral Software Development team 
 *
 *	This file require 
 *		- facebox.js
 *		- facebox.css
 *
 *  nativeSMP is open source.
 *--------------------------------------------------------------------------*/
		
function alertThis(msg,title,option,features,modal,opacity,closeOK,foot,popout,confirmed,autoClose,callback,icon){if(msg==''||msg===undefined){msg='alert'}if(title==''||title===undefined){title='Alert'}else{}if(option==''||option===undefined){option='div'}if(option=='ajax'&&(features==''||features===undefined)){features='form'}if(features==''||features===undefined){features='alert'}if(option=='info'){option='div';features='info'}$.facebox.modal(false);$.facebox.opacity(0);$.facebox.closeOK(true);$.facebox.foot(true);$.facebox.popout(false);$.facebox.confirmed(false);$.facebox.autoClose(false);$.facebox.draggable(true);$.facebox.callback('');$.facebox.error(false);$.facebox.popout(false);if(features=='alert'||features=='help'){$.facebox.modal(true);$.facebox.popout(true);$.facebox.autoClose(false)}if(features=='info'){$.facebox.foot(false);$.facebox.popout(true);$.facebox.autoClose(true)}if(features=='warning'){$.facebox.modal(true)}if(features=='confirm'){$.facebox.modal(true);$.facebox.confirmed(true)}if(features=='form'){$.facebox.modal(true);$.facebox.opacity(0.6);$.facebox.popup(true);$.facebox.callback(callback)}if(features=='process'){$.facebox.modal(true);$.facebox.opacity(0.6);$.facebox.foot(false);$.facebox.draggable(false)}if(features=='error'){$.facebox.modal(true);$.facebox.opacity(0.8);$.facebox.draggable(true);$.facebox.error(true)}if(features=='custom'){$.facebox.modal(modal);$.facebox.opacity(opacity);$.facebox.closeOK(closeOK);$.facebox.foot(foot);$.facebox.popout(popout);$.facebox.confirmed(confirmed);$.facebox.autoClose(autoClose)}if(option=='div'){$.facebox(msg)}else if(option=='image'){$.facebox({image:msg})}else if(option=='ajax'){$.facebox({ajax:msg})}else{$.facebox(msg)}$.facebox.title(title)}function confirmThis(msg,title,accept_callback,reject_callback,option){if(title==''||title===undefined){title='Confirmation'}alertThis(msg,title,'div','confirm');$("#facebox .accept").click(function(){var acceptTimeout=setTimeout(function(){(accept_callback==''||accept_callback===undefined)?'':accept_callback()},200);closethis()});$("#facebox .reject").click(function(){(reject_callback==''||reject_callback===undefined)?'':reject_callback();closethis()});var closethis=function(){$.facebox.close()}}function alertConfirm(msg,title,func_callback){alertThis(msg,title,'div','alert');$("#facebox .close").click(function(){$.facebox.close();(func_callback==''||func_callback==undefined)?'':func_callback()})}function alertThisCallback(msg,title,features,func_callback){alertThis(msg,title,features,'form',null,null,null,null,null,null,null,func_callback)}

/*!
 * Copyright (c) 2000-2008 Liferay, Inc. All rights reserved.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 *
 *  JavaScript Library Function for nc.Session
 *  2009 nc 
 *
 *--------------------------------------------------------------------------*/

nc.session={autoExtend:false,sessionTimeout:0,sessionTimeoutWarning:0,redirectOnExpire:false,multiplierMilisecond:60000,alertTime:nc.globalSessionTimeout*1000,intervalCycle:1000,alertInit:false,init:function(params){var instance=this;instance._cookieKey='nc_SESSION';instance._sesExtCookieKey='nc_SESSION_EXTEND';params=params||{};instance.autoExtend=params.autoExtend||instance.autoExtend;instance._timeout=params.timeout||instance.sessionTimeout;instance._warning=params.timeoutWarning||instance.sessionTimeoutWarning;instance.sessionTimeout=parseFloat(instance._timeout)*parseFloat(instance.multiplierMilisecond);instance.sessionTimeoutWarning=parseFloat(instance._warning)*parseFloat(instance.multiplierMilisecond);instance._timeoutDiff=parseFloat(instance.sessionTimeout)-parseFloat(instance.sessionTimeoutWarning);nc.out('init session delete cookie '+instance._sesExtCookieKey+'-sessionTimeout:'+instance.sessionTimeout+'_timeout'+instance._timeout+'instance.multiplierMilisecond-'+instance.multiplierMilisecond+'sessionTimeoutWarning-'+instance.sessionTimeoutWarning+'time-'+(new Date).getTime())instance._currentTime=instance.sessionTimeoutWarning;instance.redirectOnExpire=params.redirectOnExpire||instance.redirectOnExpire;instance.banner=new jQuery;var urlBase=nc.hostname+'/action/';instance._sessionUrls={expire:urlBase+'expire_session',extend:urlBase+'extend_session'};instance._stateCheck=setTimeout(function(){instance.checkState()},instance._timeoutDiff);var timeoutMinutes=instance._timeout;var timeLeft=instance._warning;instance._warningText='Warning! Due to inactivity, your session will expire in <span id="timeout"></span>. To extend your session another '+instance.sessionTimeout+' minutes, please press the <b>ok</b> button. <input type="button" name="accept" value="Extend" onclick="nc.Session.extendClick();" />';instance._expireText='Your session has expired. Please save your works, kindly please and click <a href="'+nc.hostname+'/action/security/loginSmpSetup" target="_parent">here</a> to login';instance._toggleText={hide:'hide',show:'show'};instance._expiredText='warning-your-session-has-expired';instance._extendText='extend';instance.setCookie()},checkState:function(){var instance=this;var currentTime=new Date().getTime();var sessionState=instance.getCookie();var newWaitTime=instance.sessionTimeoutWarning;var timeDiff=0;instance.autoExtend=instance.getSessionExtendCookie();clearTimeout(instance._stateCheck);if(sessionState=='expired'){instance.expire('checkState')}else{timeDiff=currentTime-sessionState;if(!instance.autoExtend){if((timeDiff+100)>=instance.sessionTimeoutWarning){instance.warn()}else{newWaitTime=(instance.sessionTimeoutWarning-timeDiff)+instance.alertTime;instance._stateCheck=setTimeout(function(){instance.checkState()},newWaitTime)}}else{instance.extend()}}},getCookie:function(){var instance=this;return jQuery.cookie(instance._cookieKey)||0},expire:function(from){var instance=this;document.title=instance._originalTitle;$('#portal-alert-notice').css({'background-color':'#FFCCCC','border-bottom':'1px solid #FF0000'}).html(instance._expireText);$('.accept','#facebox').unbind('click').click(function(){$.facebox.close()});$('.reject','#facebox').hide();jQuery.ajax({url:instance._sessionUrls.expire,success:function(){if(instance.redirectOnExpire){nc.logout()}}});instance.setCookie('expired')},extendClick:function(){var instance=this;jQuery.cookie(instance._sesExtCookieKey,'extended');nc.Session.extend()},extend:function(){var instance=this;$(".portal-alert-notice").slideUp('fast');if(instance._countdownTimer){clearInterval(instance._countdownTimer)}jQuery.ajax({url:nc.hostname+'/action/extend_session'});instance._currentTime=instance.sessionTimeoutWarning;clearTimeout(instance._sessionExpired);if(instance._sessionWarning){clearTimeout(instance._sessionWarning)}instance._sessionWarning=setTimeout(function(){if(!instance.autoExtend){instance.warn()}else{jQuery.cookie(instance._sesExtCookieKey,'--');instance.extend()}},instance._timeoutDiff);instance.setCookie();$.facebox.close()},setCookie:function(status){var instance=this;var currentTime=new Date().getTime();jQuery.cookie(instance._cookieKey,status||currentTime)},warn:function(){var instance=this;$('#portal-alert-notice').html(instance._warningText).slideDown("fast");instance.alertInit=true;instance._counter();instance._sessionExpired=setTimeout(function(){var nc_SESSION=instance.getSessionExtendCookie();if(nc_SESSION=='extended'){nc.out('extend')instance.extend()}else{nc.out('expire')instance.expire('warn')}},instance.sessionTimeoutWarning)},_logout:function(){parent.location=nc.hostname},_counter:function(){var instance=this;var banner=instance.banner;if(banner.length){instance._counterText=banner.find('#timeout','#facebox');instance._originalTitle=document.title;var interval=1000;$('#timeout','#facebox').html(instance._currentTime);instance._countdownTimer=setInterval(function(){var time=instance._setTime();instance._currentTime=instance._currentTime-interval;if(instance._currentTime>=0){instance._counterText.html(time)}else{if(instance._countdownTimer){clearInterval(instance._countdownTimer)}}},interval)}},_formatNumber:function(num){var instance=this;if(!nc.isArray(num)){if(num<=9){num='0'+num}}else{num=jQuery.map(num,instance._formatNumber)}return num},_setTime:function(){var instance=this;var amount=instance._currentTime;if(amount<=0){}else{var days=0,hours=0,minutes=0,seconds=0,output='';amount=Math.floor(amount/1000);hours=Math.floor(amount/3600);amount=amount%3600;minutes=Math.floor(amount/60);amount=amount%60;seconds=Math.floor(amount);return instance._formatNumber([hours,minutes,seconds]).join(':')}},_autoExtender:function(extender){var instance=this;jQuery.cookie(instance._sesExtCookieKey,extender);instance.autoExtend=extender},getSessionExtendCookie:function(){var instance=this;return jQuery.cookie(instance._sesExtCookieKey)||0},getncSessionCookie:function(){var instance=this;return jQuery.cookie(instance._cookieKey)||0},_banner:[],_countdownTimer:null,_currentTime:0,_originalTitle:'',_sessionUrls:{},_sessionWarning:null,_sessionExpired:null,_timeout:0,_timeoutDiff:0,_warning:0};

/*
 * jQuery UI 1.7.3
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI
 */
jQuery.ui||(function(c){var i=c.fn.remove,d=c.browser.mozilla&&(parseFloat(c.browser.version)<1.9);c.ui={version:"1.7.3",plugin:{add:function(k,l,n){var m=c.ui[k].prototype;for(var j in n){m.plugins[j]=m.plugins[j]||[];m.plugins[j].push([l,n[j]])}},call:function(j,l,k){var n=j.plugins[l];if(!n||!j.element[0].parentNode){return}for(var m=0;m<n.length;m++){if(j.options[n[m][0]]){n[m][1].apply(j.element,k)}}}},contains:function(k,j){return document.compareDocumentPosition?k.compareDocumentPosition(j)&16:k!==j&&k.contains(j)},hasScroll:function(m,k){if(c(m).css("overflow")=="hidden"){return false}var j=(k&&k=="left")?"scrollLeft":"scrollTop",l=false;if(m[j]>0){return true}m[j]=1;l=(m[j]>0);m[j]=0;return l},isOverAxis:function(k,j,l){return(k>j)&&(k<(j+l))},isOver:function(o,k,n,m,j,l){return c.ui.isOverAxis(o,n,j)&&c.ui.isOverAxis(k,m,l)},keyCode:{BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}};if(d){var f=c.attr,e=c.fn.removeAttr,h="http://www.w3.org/2005/07/aaa",a=/^aria-/,b=/^wairole:/;c.attr=function(k,j,l){var m=l!==undefined;return(j=="role"?(m?f.call(this,k,j,"wairole:"+l):(f.apply(this,arguments)||"").replace(b,"")):(a.test(j)?(m?k.setAttributeNS(h,j.replace(a,"aaa:"),l):f.call(this,k,j.replace(a,"aaa:"))):f.apply(this,arguments)))};c.fn.removeAttr=function(j){return(a.test(j)?this.each(function(){this.removeAttributeNS(h,j.replace(a,""))}):e.call(this,j))}}c.fn.extend({remove:function(j,k){return this.each(function(){if(!k){if(!j||c.filter(j,[this]).length){c("*",this).add(this).each(function(){c(this).triggerHandler("remove")})}}return i.call(c(this),j,k)})},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})},scrollParent:function(){var j;if((c.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){j=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(c.curCSS(this,"position",1))&&(/(auto|scroll)/).test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0)}else{j=this.parents().filter(function(){return(/(auto|scroll)/).test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!j.length?c(document):j}});c.extend(c.expr[":"],{data:function(l,k,j){return !!c.data(l,j[3])},focusable:function(k){var l=k.nodeName.toLowerCase(),j=c.attr(k,"tabindex");return(/input|select|textarea|button|object/.test(l)?!k.disabled:"a"==l||"area"==l?k.href||!isNaN(j):!isNaN(j))&&!c(k)["area"==l?"parents":"closest"](":hidden").length},tabbable:function(k){var j=c.attr(k,"tabindex");return(isNaN(j)||j>=0)&&c(k).is(":focusable")}});function g(m,n,o,l){function k(q){var p=c[m][n][q]||[];return(typeof p=="string"?p.split(/,?\s+/):p)}var j=k("getter");if(l.length==1&&typeof l[0]=="string"){j=j.concat(k("getterSetter"))}return(c.inArray(o,j)!=-1)}c.widget=function(k,j){var l=k.split(".")[0];k=k.split(".")[1];c.fn[k]=function(p){var n=(typeof p=="string"),o=Array.prototype.slice.call(arguments,1);if(n&&p.substring(0,1)=="_"){return this}if(n&&g(l,k,p,o)){var m=c.data(this[0],k);return(m?m[p].apply(m,o):undefined)}return this.each(function(){var q=c.data(this,k);(!q&&!n&&c.data(this,k,new c[l][k](this,p))._init());(q&&n&&c.isFunction(q[p])&&q[p].apply(q,o))})};c[l]=c[l]||{};c[l][k]=function(o,n){var m=this;this.namespace=l;this.widgetName=k;this.widgetEventPrefix=c[l][k].eventPrefix||k;this.widgetBaseClass=l+"-"+k;this.options=c.extend({},c.widget.defaults,c[l][k].defaults,c.metadata&&c.metadata.get(o)[k],n);this.element=c(o).bind("setData."+k,function(q,p,r){if(q.target==o){return m._setData(p,r)}}).bind("getData."+k,function(q,p){if(q.target==o){return m._getData(p)}}).bind("remove",function(){return m.destroy()})};c[l][k].prototype=c.extend({},c.widget.prototype,j);c[l][k].getterSetter="option"};c.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled")},option:function(l,m){var k=l,j=this;if(typeof l=="string"){if(m===undefined){return this._getData(l)}k={};k[l]=m}c.each(k,function(n,o){j._setData(n,o)})},_getData:function(j){return this.options[j]},_setData:function(j,k){this.options[j]=k;if(j=="disabled"){this.element[k?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",k)}},enable:function(){this._setData("disabled",false)},disable:function(){this._setData("disabled",true)},_trigger:function(l,m,n){var p=this.options[l],j=(l==this.widgetEventPrefix?l:this.widgetEventPrefix+l);m=c.Event(m);m.type=j;if(m.originalEvent){for(var k=c.event.props.length,o;k;){o=c.event.props[--k];m[o]=m.originalEvent[o]}}this.element.trigger(m,n);return !(c.isFunction(p)&&p.call(this.element[0],m,n)===false||m.isDefaultPrevented())}};c.widget.defaults={disabled:false};c.ui.mouse={_mouseInit:function(){var j=this;this.element.bind("mousedown."+this.widgetName,function(k){return j._mouseDown(k)}).bind("click."+this.widgetName,function(k){if(j._preventClickEvent){j._preventClickEvent=false;k.stopImmediatePropagation();return false}});if(c.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable","on")}this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);(c.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable))},_mouseDown:function(l){l.originalEvent=l.originalEvent||{};if(l.originalEvent.mouseHandled){return}(this._mouseStarted&&this._mouseUp(l));this._mouseDownEvent=l;var k=this,m=(l.which==1),j=(typeof this.options.cancel=="string"?c(l.target).parents().add(l.target).filter(this.options.cancel).length:false);if(!m||j||!this._mouseCapture(l)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){k.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(l)&&this._mouseDelayMet(l)){this._mouseStarted=(this._mouseStart(l)!==false);if(!this._mouseStarted){l.preventDefault();return true}}this._mouseMoveDelegate=function(n){return k._mouseMove(n)};this._mouseUpDelegate=function(n){return k._mouseUp(n)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);(c.browser.safari||l.preventDefault());l.originalEvent.mouseHandled=true;return true},_mouseMove:function(j){if(c.browser.msie&&!j.button){return this._mouseUp(j)}if(this._mouseStarted){this._mouseDrag(j);return j.preventDefault()}if(this._mouseDistanceMet(j)&&this._mouseDelayMet(j)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,j)!==false);(this._mouseStarted?this._mouseDrag(j):this._mouseUp(j))}return !this._mouseStarted},_mouseUp:function(j){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=(j.target==this._mouseDownEvent.target);this._mouseStop(j)}return false},_mouseDistanceMet:function(j){return(Math.max(Math.abs(this._mouseDownEvent.pageX-j.pageX),Math.abs(this._mouseDownEvent.pageY-j.pageY))>=this.options.distance)},_mouseDelayMet:function(j){return this.mouseDelayMet},_mouseStart:function(j){},_mouseDrag:function(j){},_mouseStop:function(j){},_mouseCapture:function(j){return true}};c.ui.mouse.defaults={cancel:null,distance:1,delay:0}})(jQuery);;

/*
 * jQuery UI Datepicker 1.7.3
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Datepicker
 *
 * Depends:
 *	ui.core.js
 */
(function($){$.extend($.ui,{datepicker:{version:"1.7.3"}});var PROP_NAME="datepicker";function Datepicker(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],dateFormat:"mm/dd/yy",firstDay:0,isRTL:false};this._defaults={showOn:"focus",showAnim:"show",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,showMonthAfterYear:false,yearRange:"-10:+10",showOtherMonths:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"normal",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false};$.extend(this._defaults,this.regional[""]);this.dpDiv=$('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all ui-helper-hidden-accessible"></div>')}$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",log:function(){if(this.debug){console.log.apply("",arguments)}},setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase();var inline=(nodeName=="div"||nodeName=="span");if(!target.id){target.id="dp"+(++this.uuid)}var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{});if(nodeName=="input"){this._connectDatepicker(target,inst)}else{if(inline){this._inlineDatepicker(target,inst)}}},_newInst:function(target,inline){var id=target[0].id.replace(/([:\[\]\.])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:$('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return}var appendText=this._get(inst,"appendText");var isRTL=this._get(inst,"isRTL");if(appendText){inst.append=$('<span class="'+this._appendClass+'">'+appendText+"</span>");input[isRTL?"before":"after"](inst.append)}var showOn=this._get(inst,"showOn");if(showOn=="focus"||showOn=="both"){input.focus(this._showDatepicker)}if(showOn=="button"||showOn=="both"){var buttonText=this._get(inst,"buttonText");var buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$('<button type="button"></button>').addClass(this._triggerClass).html(buttonImage==""?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?"before":"after"](inst.trigger);inst.trigger.click(function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput==target){$.datepicker._hideDatepicker()}else{$.datepicker._showDatepicker(target)}return false})}input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)});$.data(target,PROP_NAME,inst)},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return}divSpan.addClass(this.markerClassName).append(inst.dpDiv).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)});$.data(target,PROP_NAME,inst);this._setDate(inst,this._getDefaultDate(inst));this._updateDatepicker(inst);this._updateAlternate(inst)},_dialogDatepicker:function(input,dateText,onSelect,settings,pos){var inst=this._dialogInst;if(!inst){var id="dp"+(++this.uuid);this._dialogInput=$('<input type="text" id="'+id+'" size="1" style="position: absolute; top: -100px;"/>');this._dialogInput.keydown(this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],PROP_NAME,inst)}extendRemove(inst.settings,settings||{});this._dialogInput.val(dateText);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){var browserWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var browserHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;var scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY]}this._dialogInput.css("left",this._pos[0]+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv)}$.data(this._dialogInput[0],PROP_NAME,inst);return this},_destroyDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME);if(nodeName=="input"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress)}else{if(nodeName=="div"||nodeName=="span"){$target.removeClass(this.markerClassName).empty()}}},_enableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();if(nodeName=="input"){target.disabled=false;inst.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(nodeName=="div"||nodeName=="span"){var inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled")}}this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value)})},_disableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();if(nodeName=="input"){target.disabled=true;inst.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(nodeName=="div"||nodeName=="span"){var inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled")}}this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value)});this._disabledInputs[this._disabledInputs.length]=target},_isDisabledDatepicker:function(target){if(!target){return false}for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]==target){return true}}return false},_getInst:function(target){try{return $.data(target,PROP_NAME)}catch(err){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(target,name,value){var inst=this._getInst(target);if(arguments.length==2&&typeof name=="string"){return(name=="defaults"?$.extend({},$.datepicker._defaults):(inst?(name=="all"?$.extend({},inst.settings):this._get(inst,name)):null))}var settings=name||{};if(typeof name=="string"){settings={};settings[name]=value}if(inst){if(this._curInst==inst){this._hideDatepicker(null)}var date=this._getDateDatepicker(target);extendRemove(inst.settings,settings);this._setDateDatepicker(target,date);this._updateDatepicker(inst)}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value)},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst)}},_setDateDatepicker:function(target,date,endDate){var inst=this._getInst(target);if(inst){this._setDate(inst,date,endDate);this._updateDatepicker(inst);this._updateAlternate(inst)}},_getDateDatepicker:function(target){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst)}return(inst?this._getDate(inst):null)},_doKeyDown:function(event){var inst=$.datepicker._getInst(event.target);var handled=true;var isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker(null,"");break;case 13:var sel=$("td."+$.datepicker._dayOverClass+", td."+$.datepicker._currentClass,inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0])}else{$.datepicker._hideDatepicker(null,$.datepicker._get(inst,"duration"))}return false;break;case 27:$.datepicker._hideDatepicker(null,$.datepicker._get(inst,"duration"));break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");break;case 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target)}handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target)}handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?+1:-1),"D")}handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M")}break;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,"D")}handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?-1:+1),"D")}handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M")}break;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,"D")}handled=event.ctrlKey||event.metaKey;break;default:handled=false}}else{if(event.keyCode==36&&event.ctrlKey){$.datepicker._showDatepicker(this)}else{handled=false}}if(handled){event.preventDefault();event.stopPropagation()}},_doKeyPress:function(event){var inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){var chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat"));var chr=String.fromCharCode(event.charCode==undefined?event.keyCode:event.charCode);return event.ctrlKey||(chr<" "||!chars||chars.indexOf(chr)>-1)}},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!="input"){input=$("input",input.parentNode)[0]}if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput==input){return}var inst=$.datepicker._getInst(input);var beforeShow=$.datepicker._get(inst,"beforeShow");extendRemove(inst.settings,(beforeShow?beforeShow.apply(input,[input,inst]):{}));$.datepicker._hideDatepicker(null,"");$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){input.value=""}if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight}var isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")=="fixed";return !isFixed});if(isFixed&&$.browser.opera){$.datepicker._pos[0]-=document.documentElement.scrollLeft;$.datepicker._pos[1]-=document.documentElement.scrollTop}var offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.rangeStart=null;inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute")),display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){var showAnim=$.datepicker._get(inst,"showAnim")||"show";var duration=$.datepicker._get(inst,"duration");var postProcess=function(){$.datepicker._datepickerShowing=true;if($.browser.msie&&parseInt($.browser.version,10)<7){$("iframe.ui-datepicker-cover").css({width:inst.dpDiv.width()+4,height:inst.dpDiv.height()+4})}};if($.effects&&$.effects[showAnim]){inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess)}else{inst.dpDiv[showAnim](duration,postProcess)}if(duration==""){postProcess()}if(inst.input[0].type!="hidden"){inst.input[0].focus()}$.datepicker._curInst=inst}},_updateDatepicker:function(inst){var dims={width:inst.dpDiv.width()+4,height:inst.dpDiv.height()+4};var self=this;inst.dpDiv.empty().append(this._generateHTML(inst)).find("iframe.ui-datepicker-cover").css({width:dims.width,height:dims.height}).end().find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){$(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!=-1){$(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!=-1){$(this).removeClass("ui-datepicker-next-hover")}}).bind("mouseover",function(){if(!self._isDisabledDatepicker(inst.inline?inst.dpDiv.parent()[0]:inst.input[0])){$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");$(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!=-1){$(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!=-1){$(this).addClass("ui-datepicker-next-hover")}}}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end();var numMonths=this._getNumberOfMonths(inst);var cols=numMonths[1];var width=17;if(cols>1){inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",(width*cols)+"em")}else{inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("")}inst.dpDiv[(numMonths[0]!=1||numMonths[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(inst.input&&inst.input[0].type!="hidden"&&inst==$.datepicker._curInst){$(inst.input[0]).focus()}},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth();var dpHeight=inst.dpDiv.outerHeight();var inputWidth=inst.input?inst.input.outerWidth():0;var inputHeight=inst.input?inst.input.outerHeight():0;var viewWidth=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)+$(document).scrollLeft();var viewHeight=(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)+$(document).scrollTop();offset.left-=(this._get(inst,"isRTL")?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left==inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top==(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0;offset.top-=(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(offset.top+dpHeight+inputHeight*2-viewHeight):0;return offset},_findPos:function(obj){while(obj&&(obj.type=="hidden"||obj.nodeType!=1)){obj=obj.nextSibling}var position=$(obj).offset();return[position.left,position.top]},_hideDatepicker:function(input,duration){var inst=this._curInst;if(!inst||(input&&inst!=$.data(input,PROP_NAME))){return}if(inst.stayOpen){this._selectDate("#"+inst.id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear))}inst.stayOpen=false;if(this._datepickerShowing){duration=(duration!=null?duration:this._get(inst,"duration"));var showAnim=this._get(inst,"showAnim");var postProcess=function(){$.datepicker._tidyDialog(inst)};if(duration!=""&&$.effects&&$.effects[showAnim]){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess)}else{inst.dpDiv[(duration==""?"hide":(showAnim=="slideDown"?"slideUp":(showAnim=="fadeIn"?"fadeOut":"hide")))](duration,postProcess)}if(duration==""){this._tidyDialog(inst)}var onClose=this._get(inst,"onClose");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():""),inst])}this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv)}}this._inDialog=false}this._curInst=null},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(event){if(!$.datepicker._curInst){return}var $target=$(event.target);if(($target.parents("#"+$.datepicker._mainDivId).length==0)&&!$target.hasClass($.datepicker.markerClassName)&&!$target.hasClass($.datepicker._triggerClass)&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)){$.datepicker._hideDatepicker(null,"")}},_adjustDate:function(id,offset,period){var target=$(id);var inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return}this._adjustInstDate(inst,offset+(period=="M"?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst)},_gotoToday:function(id){var target=$(id);var inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear}else{var date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear()}this._notifyChange(inst);this._adjustDate(target)},_selectMonthYear:function(id,select,period){var target=$(id);var inst=this._getInst(target[0]);inst._selectingMonthYear=false;inst["selected"+(period=="M"?"Month":"Year")]=inst["draw"+(period=="M"?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target)},_clickMonthYear:function(id){var target=$(id);var inst=this._getInst(target[0]);if(inst.input&&inst._selectingMonthYear&&!$.browser.msie){inst.input[0].focus()}inst._selectingMonthYear=!inst._selectingMonthYear},_selectDay:function(id,month,year,td){var target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return}var inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;if(inst.stayOpen){inst.endDay=inst.endMonth=inst.endYear=null}this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear));if(inst.stayOpen){inst.rangeStart=this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));this._updateDatepicker(inst)}},_clearDate:function(id){var target=$(id);var inst=this._getInst(target[0]);inst.stayOpen=false;inst.endDay=inst.endMonth=inst.endYear=inst.rangeStart=null;this._selectDate(target,"")},_selectDate:function(id,dateStr){var target=$(id);var inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input){inst.input.val(dateStr)}this._updateAlternate(inst);var onSelect=this._get(inst,"onSelect");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst])}else{if(inst.input){inst.input.trigger("change")}}if(inst.inline){this._updateDatepicker(inst)}else{if(!inst.stayOpen){this._hideDatepicker(null,this._get(inst,"duration"));this._lastInput=inst.input[0];if(typeof(inst.input[0])!="object"){inst.input[0].focus()}this._lastInput=null}}},_updateAlternate:function(inst){var altField=this._get(inst,"altField");if(altField){var altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");var date=this._getDate(inst);dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr)})}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),""]},iso8601Week:function(date){var checkDate=new Date(date.getFullYear(),date.getMonth(),date.getDate());var firstMon=new Date(checkDate.getFullYear(),1-1,4);var firstDay=firstMon.getDay()||7;firstMon.setDate(firstMon.getDate()+1-firstDay);if(firstDay<4&&checkDate<firstMon){checkDate.setDate(checkDate.getDate()-3);return $.datepicker.iso8601Week(checkDate)}else{if(checkDate>new Date(checkDate.getFullYear(),12-1,28)){firstDay=new Date(checkDate.getFullYear()+1,1-1,4).getDay()||7;if(firstDay>4&&(checkDate.getDay()||7)<firstDay-3){return 1}}}return Math.floor(((checkDate-firstMon)/86400000)/7)+1},parseDate:function(format,value,settings){if(format==null||value==null){throw"Invalid arguments"}value=(typeof value=="object"?value.toString():value+"");if(value==""){return null}var shortYearCutoff=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff;var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var year=-1;var month=-1;var day=-1;var doy=-1;var literal=false;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};var getNumber=function(match){lookAhead(match);var origSize=(match=="@"?14:(match=="y"?4:(match=="o"?3:2)));var size=origSize;var num=0;while(size>0&&iValue<value.length&&value.charAt(iValue)>="0"&&value.charAt(iValue)<="9"){num=num*10+parseInt(value.charAt(iValue++),10);size--}if(size==origSize){throw"Missing number at position "+iValue}return num};var getName=function(match,shortNames,longNames){var names=(lookAhead(match)?longNames:shortNames);var size=0;for(var j=0;j<names.length;j++){size=Math.max(size,names[j].length)}var name="";var iInit=iValue;while(size>0&&iValue<value.length){name+=value.charAt(iValue++);for(var i=0;i<names.length;i++){if(name==names[i]){return i+1}}size--}throw"Unknown name at position "+iInit};var checkLiteral=function(){if(value.charAt(iValue)!=format.charAt(iFormat)){throw"Unexpected literal at position "+iValue}iValue++};var iValue=0;for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{checkLiteral()}}else{switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":var date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"'":if(lookAhead("'")){checkLiteral()}else{literal=true}break;default:checkLiteral()}}}if(year==-1){year=new Date().getFullYear()}else{if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+(year<=shortYearCutoff?0:-100)}}if(doy>-1){month=1;day=doy;do{var dim=this._getDaysInMonth(year,month-1);if(day<=dim){break}month++;day-=dim}while(true)}var date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!=year||date.getMonth()+1!=month||date.getDate()!=day){throw"Invalid date"}return date},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TIMESTAMP:"@",W3C:"yy-mm-dd",formatDate:function(format,date,settings){if(!date){return""}var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};var formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num}}return num};var formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value])};var output="";var literal=false;if(date){for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{output+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":var doy=date.getDate();for(var m=date.getMonth()-1;m>=0;m--){doy+=this._getDaysInMonth(date.getFullYear(),m)}output+=formatNumber("o",doy,3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=(lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100);break;case"@":output+=date.getTime();break;case"'":if(lookAhead("'")){output+="'"}else{literal=true}break;default:output+=format.charAt(iFormat)}}}}return output},_possibleChars:function(format){var chars="";var literal=false;for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{chars+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":if(lookAhead("'")){chars+="'"}else{literal=true}break;default:chars+=format.charAt(iFormat)}}}return chars},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name]},_setDateFromField:function(inst){var dateFormat=this._get(inst,"dateFormat");var dates=inst.input?inst.input.val():null;inst.endDay=inst.endMonth=inst.endYear=null;var date=defaultDate=this._getDefaultDate(inst);var settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate}catch(event){this.log(event);date=defaultDate}inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst)},_getDefaultDate:function(inst){var date=this._determineDate(this._get(inst,"defaultDate"),new Date());var minDate=this._getMinMaxDate(inst,"min",true);var maxDate=this._getMinMaxDate(inst,"max");date=(minDate&&date<minDate?minDate:date);date=(maxDate&&date>maxDate?maxDate:date);return date},_determineDate:function(date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date};var offsetString=function(offset,getDaysInMonth){var date=new Date();var year=date.getFullYear();var month=date.getMonth();var day=date.getDate();var pattern=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g;var matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=parseInt(matches[1],10)*7;break;case"m":case"M":month+=parseInt(matches[1],10);day=Math.min(day,getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10);day=Math.min(day,getDaysInMonth(year,month));break}matches=pattern.exec(offset)}return new Date(year,month,day)};date=(date==null?defaultDate:(typeof date=="string"?offsetString(date,this._getDaysInMonth):(typeof date=="number"?(isNaN(date)?defaultDate:offsetNumeric(date)):date)));date=(date&&date.toString()=="Invalid Date"?defaultDate:date);if(date){date.setHours(0);date.setMinutes(0);date.setSeconds(0);date.setMilliseconds(0)}return this._daylightSavingAdjust(date)},_daylightSavingAdjust:function(date){if(!date){return null}date.setHours(date.getHours()>12?date.getHours()+2:0);return date},_setDate:function(inst,date,endDate){var clear=!(date);var origMonth=inst.selectedMonth;var origYear=inst.selectedYear;date=this._determineDate(date,new Date());inst.selectedDay=inst.currentDay=date.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=date.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=date.getFullYear();if(origMonth!=inst.selectedMonth||origYear!=inst.selectedYear){this._notifyChange(inst)}this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?"":this._formatDate(inst))}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()=="")?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate},_generateHTML:function(inst){var today=new Date();today=this._daylightSavingAdjust(new Date(today.getFullYear(),today.getMonth(),today.getDate()));var isRTL=this._get(inst,"isRTL");var showButtonPanel=this._get(inst,"showButtonPanel");var hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext");var navigationAsDateFormat=this._get(inst,"navigationAsDateFormat");var numMonths=this._getNumberOfMonths(inst);var showCurrentAtPos=this._get(inst,"showCurrentAtPos");var stepMonths=this._get(inst,"stepMonths");var stepBigMonths=this._get(inst,"stepBigMonths");var isMultiMonth=(numMonths[0]!=1||numMonths[1]!=1);var currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));var minDate=this._getMinMaxDate(inst,"min",true);var maxDate=this._getMinMaxDate(inst,"max");var drawMonth=inst.drawMonth-showCurrentAtPos;var drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--}if(maxDate){var maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[1]+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--}}}inst.drawMonth=drawMonth;inst.drawYear=drawYear;var prevText=this._get(inst,"prevText");prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));var prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery.datepicker._adjustDate(\'#'+inst.id+"', -"+stepMonths+", 'M');\" title=\""+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>":(hideIfNoPrevNext?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>"));var nextText=this._get(inst,"nextText");nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));var next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery.datepicker._adjustDate(\'#'+inst.id+"', +"+stepMonths+", 'M');\" title=\""+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>":(hideIfNoPrevNext?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>"));var currentText=this._get(inst,"currentText");var gotoDate=(this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));var controls=(!inst.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery.datepicker._hideDatepicker();">'+this._get(inst,"closeText")+"</button>":"");var buttonPanel=(showButtonPanel)?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(isRTL?controls:"")+(this._isInRange(inst,gotoDate)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery.datepicker._gotoToday(\'#'+inst.id+"');\">"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"";var firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=(isNaN(firstDay)?0:firstDay);var dayNames=this._get(inst,"dayNames");var dayNamesShort=this._get(inst,"dayNamesShort");var dayNamesMin=this._get(inst,"dayNamesMin");var monthNames=this._get(inst,"monthNames");var monthNamesShort=this._get(inst,"monthNamesShort");var beforeShowDay=this._get(inst,"beforeShowDay");var showOtherMonths=this._get(inst,"showOtherMonths");var calculateWeek=this._get(inst,"calculateWeek")||this.iso8601Week;var endDate=inst.endDay?this._daylightSavingAdjust(new Date(inst.endYear,inst.endMonth,inst.endDay)):currentDate;var defaultDate=this._getDefaultDate(inst);var html="";for(var row=0;row<numMonths[0];row++){var group="";for(var col=0;col<numMonths[1];col++){var selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));var cornerClass=" ui-corner-all";var calender="";if(isMultiMonth){calender+='<div class="ui-datepicker-group ui-datepicker-group-';switch(col){case 0:calender+="first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+="last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+="middle";cornerClass="";break}calender+='">'}calender+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+cornerClass+'">'+(/all|left/.test(cornerClass)&&row==0?(isRTL?next:prev):"")+(/all|right/.test(cornerClass)&&row==0?(isRTL?prev:next):"")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,selectedDate,row>0||col>0,monthNames,monthNamesShort)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var thead="";for(var dow=0;dow<7;dow++){var day=(dow+firstDay)%7;thead+="<th"+((dow+firstDay+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+dayNames[day]+'">'+dayNamesMin[day]+"</span></th>"}calender+=thead+"</tr></thead><tbody>";var daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear==inst.selectedYear&&drawMonth==inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth)}var leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;var numRows=(isMultiMonth?6:Math.ceil((leadDays+daysInMonth)/7));var printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(var dRow=0;dRow<numRows;dRow++){calender+="<tr>";var tbody="";for(var dow=0;dow<7;dow++){var daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,""]);var otherMonth=(printDate.getMonth()!=drawMonth);var unselectable=otherMonth||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+='<td class="'+((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+(otherMonth?" ui-datepicker-other-month":"")+((printDate.getTime()==selectedDate.getTime()&&drawMonth==inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()==printDate.getTime()&&defaultDate.getTime()==selectedDate.getTime())?" "+this._dayOverClass:"")+(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()>=currentDate.getTime()&&printDate.getTime()<=endDate.getTime()?" "+this._currentClass:"")+(printDate.getTime()==today.getTime()?" ui-datepicker-today":""))+'"'+((!otherMonth||showOtherMonths)&&daySettings[2]?' title="'+daySettings[2]+'"':"")+(unselectable?"":" onclick=\"DP_jQuery.datepicker._selectDay('#"+inst.id+"',"+drawMonth+","+drawYear+', this);return false;"')+">"+(otherMonth?(showOtherMonths?printDate.getDate():"&#xa0;"):(unselectable?'<span class="ui-state-default">'+printDate.getDate()+"</span>":'<a class="ui-state-default'+(printDate.getTime()==today.getTime()?" ui-state-highlight":"")+(printDate.getTime()>=currentDate.getTime()&&printDate.getTime()<=endDate.getTime()?" ui-state-active":"")+'" href="#">'+printDate.getDate()+"</a>"))+"</td>";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate)}calender+=tbody+"</tr>"}drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++}calender+="</tbody></table>"+(isMultiMonth?"</div>"+((numMonths[0]>0&&col==numMonths[1]-1)?'<div class="ui-datepicker-row-break"></div>':""):"");group+=calender}html+=group}html+=buttonPanel+($.browser.msie&&parseInt($.browser.version,10)<7&&!inst.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");inst._keyEvent=false;return html},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,selectedDate,secondary,monthNames,monthNamesShort){minDate=(inst.rangeStart&&minDate&&selectedDate<minDate?selectedDate:minDate);var changeMonth=this._get(inst,"changeMonth");var changeYear=this._get(inst,"changeYear");var showMonthAfterYear=this._get(inst,"showMonthAfterYear");var html='<div class="ui-datepicker-title">';var monthHtml="";if(secondary||!changeMonth){monthHtml+='<span class="ui-datepicker-month">'+monthNames[drawMonth]+"</span> "}else{var inMinYear=(minDate&&minDate.getFullYear()==drawYear);var inMaxYear=(maxDate&&maxDate.getFullYear()==drawYear);monthHtml+='<select class="ui-datepicker-month" onchange="DP_jQuery.datepicker._selectMonthYear(\'#'+inst.id+"', this, 'M');\" onclick=\"DP_jQuery.datepicker._clickMonthYear('#"+inst.id+"');\">";for(var month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+='<option value="'+month+'"'+(month==drawMonth?' selected="selected"':"")+">"+monthNamesShort[month]+"</option>"}}monthHtml+="</select>"}if(!showMonthAfterYear){html+=monthHtml+((secondary||changeMonth||changeYear)&&(!(changeMonth&&changeYear))?"&#xa0;":"")}if(secondary||!changeYear){html+='<span class="ui-datepicker-year">'+drawYear+"</span>"}else{var years=this._get(inst,"yearRange").split(":");var year=0;var endYear=0;if(years.length!=2){year=drawYear-10;endYear=drawYear+10}else{if(years[0].charAt(0)=="+"||years[0].charAt(0)=="-"){year=drawYear+parseInt(years[0],10);endYear=drawYear+parseInt(years[1],10)}else{year=parseInt(years[0],10);endYear=parseInt(years[1],10)}}year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);html+='<select class="ui-datepicker-year" onchange="DP_jQuery.datepicker._selectMonthYear(\'#'+inst.id+"', this, 'Y');\" onclick=\"DP_jQuery.datepicker._clickMonthYear('#"+inst.id+"');\">";for(;year<=endYear;year++){html+='<option value="'+year+'"'+(year==drawYear?' selected="selected"':"")+">"+year+"</option>"}html+="</select>"}if(showMonthAfterYear){html+=(secondary||changeMonth||changeYear?"&#xa0;":"")+monthHtml}html+="</div>";return html},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+(period=="Y"?offset:0);var month=inst.drawMonth+(period=="M"?offset:0);var day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period=="D"?offset:0);var date=this._daylightSavingAdjust(new Date(year,month,day));var minDate=this._getMinMaxDate(inst,"min",true);var maxDate=this._getMinMaxDate(inst,"max");date=(minDate&&date<minDate?minDate:date);date=(maxDate&&date>maxDate?maxDate:date);inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period=="M"||period=="Y"){this._notifyChange(inst)}},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");if(onChange){onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst])}},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return(numMonths==null?[1,1]:(typeof numMonths=="number"?[1,numMonths]:numMonths))},_getMinMaxDate:function(inst,minMax,checkRange){var date=this._determineDate(this._get(inst,minMax+"Date"),null);return(!checkRange||!inst.rangeStart?date:(!date||inst.rangeStart>date?inst.rangeStart:date))},_getDaysInMonth:function(year,month){return 32-new Date(year,month,32).getDate()},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay()},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst);var date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()))}return this._isInRange(inst,date)},_isInRange:function(inst,date){var newMinDate=(!inst.rangeStart?null:this._daylightSavingAdjust(new Date(inst.selectedYear,inst.selectedMonth,inst.selectedDay)));newMinDate=(newMinDate&&inst.rangeStart<newMinDate?inst.rangeStart:newMinDate);var minDate=newMinDate||this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");return((!minDate||date>=minDate)&&(!maxDate||date<=maxDate))},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff=(typeof shortYearCutoff!="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")}},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear}var date=(day?(typeof day=="object"?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst))}});function extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null||props[name]==undefined){target[name]=props[name]}}return target}function isArray(a){return(a&&(($.browser.safari&&typeof a=="object"&&a.length)||(a.constructor&&a.constructor.toString().match(/\Array\(\)/))))}$.fn.datepicker=function(options){if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv);$.datepicker.initialized=true}var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options=="string"&&(options=="isDisabled"||options=="getDate")){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))}if(options=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))}return this.each(function(){typeof options=="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)})};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.7.3";window.DP_jQuery=$})(jQuery);;

/*
 * jQuery UI Localisation Bahasa Malaysia
 *
 * Depends:
 *	ui.core.js
 */
jQuery(function(A){A.datepicker.regional["my"]={clearText:"kosongkan",clearStatus:"kosongkan tarikh sekarang",closeText:"Tutup",closeStatus:"Tutup tanpa mengubah",prevText:"&#x3c;mundur",prevStatus:"Keluarkan bulan sebelumnya",prevBigText:"&#x3c;&#x3c;",prevBigStatus:"",nextText:"maju&#x3e;",nextStatus:"Keluarkan bulan berikutnya",nextBigText:"&#x3e;&#x3e;",nextBigStatus:"",currentText:"hari ini",currentStatus:"Keluarkan bulan sekarang",monthNames:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"],monthNamesShort:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogos","Sep","Okt","Nov","Dis"],monthStatus:"Tampilkan bulan yang berbeda",yearStatus:"Tampilkan tahun yang berbeda",weekHeader:"Mg",weekStatus:"Minggu dalam tahun",dayNames:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],dayNamesShort:["Aha","Isn","Sel","Rab","kha","Jum","Sab"],dayNamesMin:["Ah","Is","Sl","Rb","Km","Jm","Sb"],dayStatus:"gunakan DD sebagai awal hari dalam minggu",dateStatus:"pilih DD, MM d",dateFormat:"dd/mm/yy",firstDay:0,initStatus:"Pilih Tarikh",isRTL:false};})

/*
 * TableSorter 2.0 - Client-side table sorting with ease!
 * Version 2.0.3
 * @requires jQuery v1.2.3
 * 
 * Copyright (c) 2007 Christian Bach
 * Examples and docs at: http://tablesorter.com
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html *
 */
(function($){$.extend({tablesorter:new function(){var k=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:'.',onRenderHeader:null,debug:false};function benchmark(s,d){log(s+","+(new Date().getTime()-d.getTime())+"ms")}this.benchmark=benchmark;function log(s){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(s)}else{alert(s)}}function buildParserCache(a,b){if(a.config.debug){var c=""}var d=a.tBodies[0].rows;if(a.tBodies[0].rows[0]){var e=[],cells=d[0].cells,l=cells.length;for(var i=0;i<l;i++){var p=false;if($.metadata&&($(b[i]).metadata()&&$(b[i]).metadata().sorter)){p=getParserById($(b[i]).metadata().sorter)}else if((a.config.headers[i]&&a.config.headers[i].sorter)){p=getParserById(a.config.headers[i].sorter)}if(!p){p=detectParserForColumn(a,cells[i])}if(a.config.debug){c+="column:"+i+" parser:"+p.id+"\n"}e.push(p)}}if(a.config.debug){log(c)}return e};function detectParserForColumn(a,b){var l=k.length;for(var i=1;i<l;i++){if(k[i].is($.trim(getElementText(a.config,b)),a,b)){return k[i]}}return k[0]}function getParserById(a){var l=k.length;for(var i=0;i<l;i++){if(k[i].id.toLowerCase()==a.toLowerCase()){return k[i]}}return false}function buildCache(a){if(a.config.debug){var b=new Date()}var d=(a.tBodies[0]&&a.tBodies[0].rows.length)||0,totalCells=(a.tBodies[0].rows[0]&&a.tBodies[0].rows[0].cells.length)||0,k=a.config.parsers,cache={row:[],normalized:[]};for(var i=0;i<d;++i){var c=$(a.tBodies[0].rows[i]),cols=[];if(c.hasClass(a.config.cssChildRow)){cache.row[cache.row.length-1]=cache.row[cache.row.length-1].add(c);continue}cache.row.push(c);for(var j=0;j<totalCells;++j){cols.push(k[j].format(getElementText(a.config,c[0].cells[j]),a,c[0].cells[j]))}cols.push(cache.normalized.length);cache.normalized.push(cols);cols=null};if(a.config.debug){benchmark("Building cache for "+d+" rows:",b)}return cache};function getElementText(a,b){if(!b)return"";var t="";if(a.textExtraction=="simple"){if(b.childNodes[0]&&b.childNodes[0].hasChildNodes()){t=b.childNodes[0].innerHTML}else{t=b.innerHTML}}else{if(typeof(a.textExtraction)=="function"){t=a.textExtraction(b)}else{t=$(b).text()}}return t}function appendToTable(a,b){if(a.config.debug){var d=new Date()}var c=b,r=c.row,n=c.normalized,totalRows=n.length,checkCell=(n[0].length-1),tableBody=$(a.tBodies[0]),rows=[];for(var i=0;i<totalRows;i++){var e=n[i][checkCell];rows.push(r[e]);if(!a.config.appender){var o=r[e];var l=o.length;for(var j=0;j<l;j++){tableBody[0].appendChild(o[j])}}}if(a.config.appender){a.config.appender(a,rows)}rows=null;if(a.config.debug){benchmark("Rebuilt table:",d)}applyWidget(a);setTimeout(function(){$(a).trigger("sortEnd")},0)};function buildHeaders(c){if(c.config.debug){var d=new Date()}var e=($.metadata)?true:false,tableHeadersRows=[];for(var i=0;i<c.tHead.rows.length;i++){tableHeadersRows[i]=0};$tableHeaders=$("thead th, thead td",c);$tableHeaders.each(function(a){this.count=0;this.column=a;this.order=formatSortingOrder(c.config.sortInitialOrder);if(checkHeaderMetadata(this)||checkHeaderOptions(c,a))this.sortDisabled=true;if(!this.sortDisabled){var b=$(this).addClass(c.config.cssHeader);if(c.config.onRenderHeader)c.config.onRenderHeader.apply(b)}c.config.headerList[a]=this});if(c.config.debug){benchmark("Built headers:",d);log($tableHeaders)}return $tableHeaders};function checkCellColSpan(a,b,d){var e=[],r=a.tHead.rows,c=r[d].cells;for(var i=0;i<c.length;i++){var f=c[i];if(f.colSpan>1){e=e.concat(checkCellColSpan(a,headerArr,d++))}else{if(a.tHead.length==1||(f.rowSpan>1||!r[d+1])){e.push(f)}}}return e};function checkHeaderMetadata(a){if(($.metadata)&&($(a).metadata().sorter===false)){return true};return false}function checkHeaderOptions(a,i){if((a.config.headers[i])&&(a.config.headers[i].sorter===false)){return true};return false}function applyWidget(a){var c=a.config.widgets;var l=c.length;for(var i=0;i<l;i++){getWidgetById(c[i]).format(a)}}function getWidgetById(a){var l=widgets.length;for(var i=0;i<l;i++){if(widgets[i].id.toLowerCase()==a.toLowerCase()){return widgets[i]}}};function formatSortingOrder(v){if(typeof(v)!="Number"){i=(v.toLowerCase()=="desc")?1:0}else{i=(v==(0||1))?v:0}return i}function isValueInArray(v,a){var l=a.length;for(var i=0;i<l;i++){if(a[i][0]==v){return true}}return false}function setHeadersCss(b,c,d,e){c.removeClass(e[0]).removeClass(e[1]);var h=[];c.each(function(a){if(!this.sortDisabled){h[this.column]=$(this)}});var l=d.length;for(var i=0;i<l;i++){h[d[i][0]].addClass(e[d[i][1]])}}function fixColumnWidth(a,b){var c=a.config;if(c.widthFixed){var d=$('<colgroup>');$("tr:first td",a.tBodies[0]).each(function(){d.append($('<col>').css('width',$(this).width()))});$(a).prepend(d)}}function updateHeaderSortCount(a,b){var c=a.config,l=b.length;for(var i=0;i<l;i++){var s=b[i],o=c.headerList[s[0]];o.count=s[1];o.count++}}function multisort(a,b,d){if(a.config.debug){var f=new Date()}var g="var sortWrapper = function(a,b) {",l=b.length;for(var i=0;i<l;i++){var c=b[i][0];var h=b[i][1];var s=(getCachedSortType(a.config.parsers,c)=="text")?((h==0)?"sortText":"sortTextDesc"):((h==0)?"sortNumeric":"sortNumericDesc");var e="e"+i;g+="var "+e+" = "+s+"(a["+c+"],b["+c+"]); ";g+="if("+e+") { return "+e+"; } ";g+="else { "}var j=d.normalized[0].length-1;g+="return a["+j+"]-b["+j+"];";for(var i=0;i<l;i++){g+="}; "}g+="return 0; ";g+="}; ";eval(g);d.normalized.sort(sortWrapper);if(a.config.debug){benchmark("Sorting on "+b.toString()+" and dir "+h+" time:",f)}return d};function sortText(a,b){return((a<b)?-1:((a>b)?1:0))};function sortTextDesc(a,b){return((b<a)?-1:((b>a)?1:0))};function sortNumeric(a,b){return a-b};function sortNumericDesc(a,b){return b-a};function getCachedSortType(a,i){return a[i].type};this.construct=function(g){return this.each(function(){if(!this.tHead||!this.tBodies)return;var d,$document,$headers,cache,config,shiftDown=0,sortOrder;this.config={};config=$.extend(this.config,$.tablesorter.defaults,g);d=$(this);$.data(this,"tablesorter",config);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);this.config.cache=cache;var f=[config.cssDesc,config.cssAsc];fixColumnWidth(this);$headers.click(function(e){d.trigger("sortStart");var b=(d[0].tBodies[0]&&d[0].tBodies[0].rows.length)||0;if(!this.sortDisabled&&b>0){var c=$(this);var i=this.column;this.order=this.count++%2;if(!e[config.sortMultiSortKey]){config.sortList=[];if(config.sortForce!=null){var a=config.sortForce;for(var j=0;j<a.length;j++){if(a[j][0]!=i){config.sortList.push(a[j])}}}config.sortList.push([i,this.order])}else{if(isValueInArray(i,config.sortList)){for(var j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];if(s[0]==i){o.count=s[1];o.count++;s[1]=o.count%2}}}else{config.sortList.push([i,this.order])}};setTimeout(function(){setHeadersCss(d[0],$headers,config.sortList,f);appendToTable(d[0],multisort(d[0],config.sortList,cache))},1);return false}}).mousedown(function(){if(config.cancelSelection){this.onselectstart=function(){return false};return false}});d.bind("update",function(){this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this)}).bind("sorton",function(e,a){$(this).trigger("sortStart");config.sortList=a;var b=config.sortList;updateHeaderSortCount(this,b);setHeadersCss(this,$headers,b,f);appendToTable(this,multisort(this,b,cache))}).bind("appendCache",function(){appendToTable(this,cache)}).bind("applyWidgetId",function(e,a){getWidgetById(a).format(this)}).bind("applyWidgets",function(){applyWidget(this)});if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist)){config.sortList=$(this).metadata().sortlist}if(config.sortList.length>0){d.trigger("sorton",[config.sortList])}applyWidget(this)})};this.addParser=function(b){var l=k.length,a=true;for(var i=0;i<l;i++){if(k[i].id.toLowerCase()==b.id.toLowerCase()){a=false}}if(a){k.push(b)}};this.addWidget=function(a){widgets.push(a)};this.formatFloat=function(s){var i=parseFloat(s);return(isNaN(i))?0:i};this.formatInt=function(s){var i=parseInt(s);return(isNaN(i))?0:i};this.isDigit=function(s,a){var b='\\'+a.decimal;var c='/(^[+]?0('+b+'0+)?$)|(^([-+]?[1-9][0-9]*)$)|(^([-+]?((0?|[1-9][0-9]*)'+b+'(0*[1-9][0-9]*)))$)|(^[-+]?[1-9]+[0-9]*'+b+'0+$)/';return RegExp(c).test($.trim(s))};this.clearTableBody=function(a){if($.browser.msie){function empty(){while(this.firstChild)this.removeChild(this.firstChild)}empty.apply(a.tBodies[0])}else{a.tBodies[0].innerHTML=""}}}});$.fn.extend({tablesorter:$.tablesorter.construct});var m=$.tablesorter;m.addParser({id:"text",is:function(s){return true},format:function(s){return $.trim(s.toLowerCase())},type:"text"});m.addParser({id:"digit",is:function(s,a){var c=a.config;return $.tablesorter.isDigit(s,c)},format:function(s){return $.tablesorter.formatFloat(s)},type:"numeric"});m.addParser({id:"currency",is:function(s){return/^[$?.]/.test(s)},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[^0-9.]/g),""))},type:"numeric"});m.addParser({id:"ipAddress",is:function(s){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s)},format:function(s){var a=s.split("."),r="",l=a.length;for(var i=0;i<l;i++){var b=a[i];if(b.length==2){r+="0"+b}else{r+=b}}return $.tablesorter.formatFloat(r)},type:"numeric"});m.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s)},format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),''))},type:"text"});m.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s)},format:function(s){return $.tablesorter.formatFloat((s!="")?new Date(s.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"});m.addParser({id:"percent",is:function(s){return/\%$/.test($.trim(s))},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""))},type:"numeric"});m.addParser({id:"usLongDate",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(s){return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});m.addParser({id:"shortDate",is:function(s){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s);},format:function(s,table){var c=table.config;s=s.replace(/\-/g,"/");if(c.dateFormat=="us"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2")}else if(c.dateFormat=="uk"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1")}else if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")}return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});m.addParser({id:"time",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s)},format:function(s){return $.tablesorter.formatFloat(new Date("2000/01/01 "+s).getTime())},type:"numeric"});m.addParser({id:"metadata",is:function(s){return false},format:function(s,a,b){var c=a.config,p=(!c.parserMetadataName)?'sortValue':c.parserMetadataName;return $(b).metadata()[p]},type:"numeric"});m.addWidget({id:"zebra",format:function(a){if(a.config.debug){var b=new Date()}var c,row=-1,odd;$("tr:visible",a.tBodies[0]).each(function(i){c=$(this);if(!c.hasClass(a.config.cssChildRow))row++;odd=(row%2==0);c.removeClass(a.config.widgetZebra.css[odd?0:1]).addClass(a.config.widgetZebra.css[odd?1:0])});if(a.config.debug){$.tablesorter.benchmark("Applying Zebra widget",b)}}})})(jQuery);

/*
 * TableSorter Pager Module 
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html *
 * 
 *  Depends:
 *	jquery tablesorter 2.0
 */	
(function($){$.extend({tablesorterPager:new function(){function updatePageDisplay(c,l,e,a,b){s=$(c.cssPageDisplay,c.container).val((c.page+1)+c.seperator+c.totalPages)}function setPageSize(a,b){var c=a.config;c.size=b;c.totalPages=Math.ceil(c.totalRows/c.size);c.pagerPositionSet=false;moveToPage(a);fixPosition(a)}function fixPosition(a){var c=a.config;if(!c.pagerPositionSet&&c.positionFixed){var c=a.config,o=$(a);if(o.offset){c.container.css({top:o.offset().top+o.height()+'px',position:'absolute'})}c.pagerPositionSet=true}}function moveToFirstPage(a){var c=a.config;c.page=0;moveToPage(a)}function moveToLastPage(a){var c=a.config;c.page=(c.totalPages-1);moveToPage(a)}function moveToNextPage(a){var c=a.config;c.page++;if(c.page>=(c.totalPages-1)){c.page=(c.totalPages-1)}moveToPage(a)}function moveToPrevPage(a){var c=a.config;c.page--;if(c.page<=0){c.page=0}moveToPage(a)}function moveToPage(a){var c=a.config;if(c.page<0||c.page>(c.totalPages-1)){c.page=0}renderTable(a,c.rowsCopy)}function renderTable(a,b){var c=a.config;var l=b.length;var s=(c.page*c.size);var e=(s+c.size);if(e>b.length){e=b.length}var d=$(a.tBodies[0]);$.tablesorter.clearTableBody(a);for(var i=s;i<e;i++){var o=b[i];var l=o.length;for(var j=0;j<l;j++){d[0].appendChild(o[j])}}fixPosition(a,d);$(a).trigger("applyWidgets");if(c.page>=c.totalPages){moveToLastPage(a)}updatePageDisplay(c);$(a).trigger("doneRender")}this.appender=function(a,b){var c=a.config;c.rowsCopy=b;c.totalRows=b.length;c.totalPages=Math.ceil(c.totalRows/c.size);renderTable(a,b)};this.defaults={size:10,offset:0,page:0,totalRows:0,totalPages:0,container:null,cssNext:'.next, [class^=next]',cssPrev:'.prev, [class^=prev]',cssFirst:'.first, [class^=first]',cssLast:'.last, [class^=last]',cssPageDisplay:'.pagedisplay',cssPageSize:'.pagesize',seperator:"/",positionFixed:false,appender:this.appender};this.construct=function(b){return this.each(function(){config=$.extend(this.config,$.tablesorterPager.defaults,b);var a=this,pager=config.container;$(this).trigger("appendCache");config.size=parseInt($(".pagesize",pager).val());$(config.cssFirst,pager).unbind().click(function(){moveToFirstPage(a);return false});$(config.cssNext,pager).unbind().click(function(){moveToNextPage(a);return false});$(config.cssPrev,pager).unbind().click(function(){moveToPrevPage(a);return false});$(config.cssLast,pager).unbind().click(function(){moveToLastPage(a);return false});$(config.cssPageSize,pager).change(function(){setPageSize(a,parseInt($(this).val()));return false})})}}});$.fn.extend({tablesorterPager:$.tablesorterPager.construct})})(jQuery);

/*
 * Copyright (c) 2008 Justin Britten justinbritten at gmail.com
 *
 * Some code was borrowed from:
 * 1. Greg Weber's uiTableFilter project (http://gregweber.info/projects/uitablefilter)
 * 2. Denny Ferrassoli & Charles Christolini's TypeWatch project (www.dennydotnet.com)
 *
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
(function($){$.extend({tablesorterFilter:new function(){function has_words(a,b,c){var d=c?a:a.toLowerCase();for(var i=0;i<b.length;i++){if(d.indexOf(b[i])===-1)return false}return true}function doFilter(b,c){if(b.config.debug){var d=new Date()}var e=c.length;var f=b.config.filterCaseSensitive;var g=f?c.split(" "):c.toLowerCase().split(" ");var h=b.config.filterColumns;var j=[];var k=function(a){a.show();j.push(a)}var l=function(a){}if(h){var m="";for(var i=0;i<h.length;i++){m+="td:eq("+h[i]+"),"}var n=function(){var a=jQuery(this);has_words(a.find(m).text(),g,f)?k(a):l(a)}}else{var n=function(){var a=jQuery(this);has_words(a.text(),g,f)?k(a):l(a)}}var o=b.config.cache.row;for(var i=0;i<o.length;i++){o[i].each(n)}$.tablesorter.clearTableBody(b);for(var i=0;i<j.length;i++){$(b.tBodies[0]).append(j[i])}if(j.length!=0){$(b).trigger("update");$(b).trigger("appendCache");$(b).trigger("sorton",[b.config.sortList]);if(b.config.debug){$.tablesorter.benchmark("Apply filter:",d)}}return b};function clearFilter(a){if(a.config.debug){var b=new Date()}var c=a.config.cache.row;$.tablesorter.clearTableBody(a);for(var i=0;i<c.length;i++){$(a.tBodies[0]).append(c[i])}$(a).trigger("update");$(a).trigger("appendCache");if(a.config.debug){$.tablesorter.benchmark("Clear filter:",b)}return a};this.defaults={filterContainer:'#filter-box',filterClearContainer:'#filter-clear-button',filterColumns:null,filterCaseSensitive:false};this.construct=function(g){return this.each(function(){config=$.extend(this.config,$.tablesorterFilter.defaults,g);var e=this;function checkInputBox(a,b){var c=a.value;if((c!=a.lastValue)||(b)){a.lastValue=c;doFilter(e,c)}};var f;$(config.filterContainer).keyup(function(){var a=500;var b=false;var c=this;if(c.keyCode==13){a=1;b=true}var d=function(){checkInputBox(c,b)}clearTimeout(f);f=setTimeout(d,a);return false});$(config.filterClearContainer).click(function(){SMP.out($(this).attr('id'))SMP.out($(config.filterContainer).attr('id'))clearFilter(e);$(config.filterContainer).val("").focus()});$(e).bind("clearFilter",function(){clearFilter(e)})})}}});$.fn.extend({tablesorterFilter:$.tablesorterFilter.construct})})(jQuery);

/*
 * Facebox (for jQuery)
 * version: 1.2 (05/05/2008)
 * @requires jQuery v1.2 or later
 *
 * Examples at http://famspam.com/facebox/
 *
 * Licensed under the MIT:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Copyright 2007, 2008 Chris Wanstrath [ chris@ozmm.org ]
 *
 *  Modified by Hudz
 *  Added option for suit nc
 */
(function($){$.facebox=function(a,b,c){$.facebox.loading();if(a.ajax)fillFaceboxFromAjax(a.ajax,b);else if(a.image)fillFaceboxFromImage(a.image);else if(a.div)fillFaceboxFromHref(a.div);else if($.isFunction(a))a.call($)else $.facebox.reveal(a,b)}var g=window.location.pathname.split('/');var h=g[1];$.extend($.facebox,{settings:{opacity:0,overlay:true,modal:false,selfPath:'',loadingImage:'/'+h+'/images/loading.gif',closeImage:'/'+h+'/images/closelabel.gif',closeElement:'<span style="float:right;"><img id="close_popup" src="/'+h+'/images/common/closePopup2.gif" title="close" class="close_image" /></span>',okButton:'<span class="button"><button id="button_close" class="close" onclick="$.facebox.close()" type="button" >OK</button></span>',confirmButton:'<span class="button"><button id="button_close" type="button" class="accept" >OK</button></span><span class="button"><button id="button_close" type="button" class="reject">CANCEL</button></span>',imageTypes:['png','jpg','jpeg','gif'],title:null,closeable:true,closeOK:false,confirmed:false,popout:false,popup:false,foot:true,titleColor:'',draggable:true,callback:'',interceptAjax:'',faceboxAjaxMsg:'',autoClose:false,error:'',t1:0,t2:0,xlocation:'',closeButton:true,width:'',type:'',faceboxHtml:'    <div id="facebox" style="display:none;">       <div class="popup">         <table>           <tbody>             <tr> 				 <td class="body"> 		 	  <div class="header">                 </div>                 <div class="content">                 </div>                 <div class="footer"> 					<a href="#" class="close"> 						<img src="/'+h+'/images/closelabel.gif" title="close" class="close_image" />      				 </a>	                </div>               </td>             </tr>           </tbody>         </table>       </div>     </div>'},loading:function(){init()if($('#facebox .loading').length==1)return true showOverlay()$('#facebox .content').empty()$('#facebox .body').children().hide().end().append('<div class="loading"><img src="'+$.facebox.settings.loadingImage+'"/></div>')$('#facebox').css({top:getPageScroll()[1]+(getPageHeight()/10),left:385.5}).show()if($.facebox.settings.modal===false){$(document).bind('keydown.facebox',function(e){return true})}$(document).trigger('loading.facebox')},reveal:function(a,b){$(document).trigger('beforeReveal.facebox')if(b)$('#facebox .content').addClass(b)$('#facebox .content').append(a)$('#facebox .loading').remove()if(!$.facebox.settings.popout){$('#facebox .body').children().fadeIn('fast')}else if($.facebox.settings.popout){$('#facebox .body').children().show()}$('#facebox .body').css('width','350px');if($.facebox.settings.error){$('#facebox .body').css('width',(($.facebox.settings.width!='')?$.facebox.settings.width:'800px'));$('#facebox_overlay .facebox_overlayBG').css('background','#000000')}else{if($.facebox.settings.popup){$('#facebox .body').css('width',(($.facebox.settings.width!='')?$.facebox.settings.width:'600px'))}else{$('#facebox .body').css('width',(($.facebox.settings.width!='')?$.facebox.settings.width:'350px'))}$('#facebox_overlay .facebox_overlayBG').css('background','#FFFFFF')}if($.facebox.settings.xlocation!=''){$('#facebox').css('left',$.facebox.settings.xlocation)}else{$('#facebox').css('left',$(window).width()/2-($('#facebox table').width()/2))}if($.facebox.settings.closeOK){var c=' <input type="button" value="OK" class="close" onclick="$.facebox.close()"/>';$('#facebox .footer').html(c)}if($.facebox.settings.confirmed){var c='<input type="button" value="OK" class="accept" />&nbsp;&nbsp;<input type="button" value="Cancel" class="reject"/>';$('#facebox .footer').html(c)}if($.facebox.settings.foot){}else if(!$.facebox.settings.foot){var d='<a href="#" class="close"></a>';$('#facebox .footer').html(d)}clearTimeout($.facebox.settings.t2)clearTimeout($.facebox.settings.t1)if($.facebox.settings.autoClose){$.facebox.settings.t1=setTimeout(function(){$.facebox.bindEvents()},700);$.facebox.settings.t2=setTimeout(function(){if($('#facebox').is(':hidden')){}else{$.facebox.close()}},4500)}if($.facebox.settings.draggable){$.facebox.dragThis()}if($.facebox.settings.modal){$(document).bind('keydown.facebox',function(e){if($('.close_image','#facebox')){if(e.keyCode==13){$.facebox.close()}}else if($('.close','#facebox')){if(e.keyCode==13||e.keyCode==27){$.facebox.close()}}})}var f=$.facebox.settings.callback;(f==''||f==undefined)?'':f();$(document).trigger('reveal.facebox').trigger('afterReveal.facebox');nc.alterFacebox()},dragThis:function(){$(document).bind('reveal.facebox',function(){$('#facebox').jqDrag('.header')})},bindEvents:function(){$(window).mousemove($.facebox.close).click($.facebox.close).keypress($.facebox.close);$(document).trigger('closeOn1stMove')},close:function(){$(window).unbind('mousemove',$.facebox.close).unbind('click',$.facebox.close).unbind('keypress',$.facebox.close)$(document).trigger('close.facebox')return false},closeMove:function(){$(window).unbind('mousemove',$.facebox.close).unbind('click',$.facebox.close).unbind('keypress',$.facebox.close)$(document).trigger('close.facebox')return false},title:function(a){if(a==''||a==undefined){return $('#facebox .header').html()}else{if($.facebox.settings.closeButton){$('#facebox .header').html("<h2 style='float:left;'>"+a+"</h2>"+$.facebox.settings.closeElement+"");$('#close_popup').hover(function(){$(this).attr('style','cursor:pointer;')},function(){$(this).attr('style','cursor:deafult;')});$('#close_popup').click(function(){$.facebox.close()})}else{$('#facebox .header').html("<h2>"+a+"</span></h2>")}}},modal:function(a){if(a==''||a==undefined){$.facebox.settings.modal=false}else{$.facebox.settings.modal=a}},closeOK:function(a){$.facebox.settings.closeOK=a},confirmed:function(a){$.facebox.settings.confirmed=a},foot:function(a){$.facebox.settings.foot=a},opacity:function(a){$.facebox.settings.opacity=a},popout:function(a){$.facebox.settings.popout=a},popup:function(a){$.facebox.settings.popup=a},titleColor:function(a){$.facebox.settings.titleColor=a},autoClose:function(a){$.facebox.settings.autoClose=a},draggable:function(a){$.facebox.settings.draggable=a},callback:function(a){$.facebox.settings.callback=a},interceptAjax:function(a){$.facebox.settings.interceptAjax=a},faceboxAjaxMsg:function(a){$.facebox.settings.faceboxAjaxMsg=a},error:function(a){$.facebox.settings.error=a},closeButton:function(a){$.facebox.settings.closeButton=a},width:function(a){$.facebox.settings.width=a},xlocation:function(a){$.facebox.settings.xlocation=a},type:function(a){$.facebox.settings.type=a}})$.fn.facebox=function(b){init(b)function clickHandler(){$.facebox.loading(true)var a=this.rel.match(/facebox\[?\.(\w+)\]?/)if(a)a=a[1]fillFaceboxFromHref(this.href,a)return false}return this.click(clickHandler)}function init(a){if($.facebox.settings.inited)return true else $.facebox.settings.inited=true $(document).trigger('init.facebox')makeCompatible()var b=$.facebox.settings.imageTypes.join('|')$.facebox.settings.imageTypesRegexp=new RegExp('\.'+b+'$','i')$.facebox.settings.selfPath=h;if(a)$.extend($.facebox.settings,a)$('body').append($.facebox.settings.faceboxHtml)var c=[new Image(),new Image()]c[0].src=$.facebox.settings.closeImage c[1].src=$.facebox.settings.loadingImage $('#facebox .close').click($.facebox.close)$('#facebox .close_image').attr('src',$.facebox.settings.closeImage)}function getPageScroll(){var a,yScroll;if(self.pageYOffset){yScroll=self.pageYOffset;a=self.pageXOffset}else if(document.documentElement&&document.documentElement.scrollTop){yScroll=document.documentElement.scrollTop;a=document.documentElement.scrollLeft}else if(document.body){yScroll=document.body.scrollTop;a=document.body.scrollLeft}return new Array(a,yScroll)}function getPageHeight(){var a if(self.innerHeight){a=self.innerHeight}else if(document.documentElement&&document.documentElement.clientHeight){a=document.documentElement.clientHeight}else if(document.body){a=document.body.clientHeight}return a}function makeCompatible(){var a=$.facebox.settings a.loadingImage=a.loading_image||a.loadingImage a.closeImage=a.close_image||a.closeImage a.imageTypes=a.image_types||a.imageTypes a.faceboxHtml=a.facebox_html||a.faceboxHtml a.title=a.title||a.title}function setTitleBar(a){if(a){var b=$("<div class='header'></div>").html("<h2>"+a+"</h2>")if($.facebox.settings.closeable){b.append(jQuery("<a href='#' class='close'></a>").html($.facebox.settings.closeText))}$(".header").html("<h2>"+a+"</h2>")}}function fillFaceboxFromHref(a,b){if(a.match(/#/)){var c=window.location.href.split('#')[0]var d=a.replace(c,'')$.facebox.reveal($(d).show(),b)}else if(a.match($.facebox.settings.imageTypesRegexp)){fillFaceboxFromImage(a,b)}else{fillFaceboxFromAjax(a,b)}}function fillFaceboxFromImage(a,b){var c=new Image()c.onload=function(){$.facebox.reveal('<div class="image"><img src="'+c.src+'" /></div>',b)}c.src=a}function fillFaceboxFromAjax(d,e){$.ajax({type:"GET",url:d,data:e,success:function(a){a=$.trim(a)$.facebox.settings.faceboxAjaxMsg=a;var b=$.facebox.settings.interceptAjax;(b==''||b==undefined)?'':b();a=$.facebox.settings.faceboxAjaxMsg;$.facebox.reveal(a,e)$(document).trigger('afterAjax.facebox')var c=$.facebox.settings.callback;(c==''||c==undefined)?'':c()},error:function(a,b,c){jQuery.facebox.title('Error 500')jQuery.facebox('The requested file is not found or \n'+b)}})}function skipOverlay(){return $.facebox.settings.overlay==false||$.facebox.settings.opacity===null}function showOverlay(){if(skipOverlay())return if($('facebox_overlay').length==0)$("body").append('<div id="facebox_overlay" class="facebox_hide"></div>')$('#facebox_overlay').hide().addClass("facebox_overlayBG").css('opacity',$.facebox.settings.opacity).fadeIn(50)if($.facebox.settings.modal===false){$('#facebox_overlay').click(function(){$(document).trigger('close.facebox')})}return false}function hideOverlay(){if(skipOverlay())return $('#facebox_overlay').fadeOut(150,function(){$("#facebox_overlay").removeClass("facebox_overlayBG")$("#facebox_overlay").addClass("facebox_hide")$("#facebox_overlay").remove()})return false}$(document).bind('close.facebox',function(){$(document).unbind('keydown.facebox')$('#facebox').fadeOut(150,function(){$('#facebox .content').removeClass().addClass('content')hideOverlay();$('#facebox .loading').remove();$(document).trigger('facebox.closed')})})})(jQuery);

/*
 * Metadata - jQuery plugin for parsing metadata from elements
 *
 * Copyright (c) 2006 John Resig, Yehuda Katz, Jrn Zaefferer, Paul McLanahan
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Revision: $Id: jquery.metadata.js,v 1.1 2010/08/04 09:08:17 hudz2 Exp $
 *
 */
(function($){$.extend({metadata:{defaults:{type:'class',name:'metadata',cre:/({.*})/,single:'metadata'},setType:function(a,b){this.defaults.type=a;this.defaults.name=b},get:function(a,b){var c=$.extend({},this.defaults,b);if(!c.single.length)c.single='metadata';var d=$.data(a,c.single);if(d)return d;d="{}";if(c.type=="class"){var m=c.cre.exec(a.className);if(m)d=m[1]}else if(c.type=="elem"){if(!a.getElementsByTagName)return undefined;var e=a.getElementsByTagName(c.name);if(e.length)d=$.trim(e[0].innerHTML)}else if(a.getAttribute!=undefined){var f=a.getAttribute(c.name);if(f)d=f}if(d.indexOf('{')<0)d="{"+d+"}";d=eval("("+d+")");$.data(a,c.single,d);return d}}});$.fn.metadata=function(a){return $.metadata.get(this[0],a)}})(jQuery);


/*
 * jQuery validation plug-in 1.5.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright (c) 2006 - 2008 Jrn Zaefferer
 *
 * $Id: jquery.validate.js,v 1.1 2010/08/04 09:08:17 hudz2 Exp $
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function($){$.extend($.fn,{validate:function(b){if(!this.length){b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var c=$.data(this[0],'validator');if(c){return c}c=new $.validator(b,this[0]);$.data(this[0],'validator',c);if(c.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){c.cancelSubmit=true});this.submit(function(a){if(c.settings.debug)a.preventDefault();function handle(){if(c.settings.submitHandler){c.settings.submitHandler.call(c,c.currentForm);return false}return true}if(c.cancelSubmit){c.cancelSubmit=false;return handle()}if(c.form()){if(c.pendingRequest){c.formSubmitted=true;return false}return handle()}else{c.focusInvalid();return false}})}return c},valid:function(){if($(this[0]).is('form')){return this.validate().form()}else{var a=false;var b=$(this[0].form).validate();this.each(function(){a|=b.element(this)});return a}},removeAttrs:function(c){var d={},$element=this;$.each(c.split(/\s/),function(a,b){d[b]=$element.attr(b);$element.removeAttr(b)});return d},rules:function(c,d){var e=this[0];if(c){var f=$.data(e.form,'validator').settings;var g=f.rules;var h=$.validator.staticRules(e);switch(c){case"add":$.extend(h,$.validator.normalizeRule(d));g[e.name]=h;if(d.messages)f.messages[e.name]=$.extend(f.messages[e.name],d.messages);break;case"remove":if(!d){delete g[e.name];return h}var i={};$.each(d.split(/\s/),function(a,b){i[b]=h[b];delete h[b]});return i}}var j=$.validator.normalizeRules($.extend({},$.validator.metadataRules(e),$.validator.classRules(e),$.validator.attributeRules(e),$.validator.staticRules(e)),e);if(j.required){var k=j.required;delete j.required;j=$.extend({required:k},j)}return j}});$.extend($.expr[":"],{blank:function(a){return!$.trim(a.value)},filled:function(a){return!!$.trim(a.value)},unchecked:function(a){return!a.checked}});$.format=function(b,c){if(arguments.length==1)return function(){var a=$.makeArray(arguments);a.unshift(b);return $.format.apply(this,a)};if(arguments.length>2&&c.constructor!=Array){c=$.makeArray(arguments).slice(1)}if(c.constructor!=Array){c=[c]}$.each(c,function(i,n){b=b.replace(new RegExp("\\{"+i+"\\}","g"),n)});return b};$.validator=function(a,b){this.settings=$.extend({},$.validator.defaults,a);this.currentForm=b;this.init()};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",errorElement:"label",focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(a){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass);this.errorsFor(a).hide()}},onfocusout:function(a){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a))){this.element(a)}},onkeyup:function(a){if(a.name in this.submitted||a==this.lastElement){this.element(a)}},onclick:function(a){if(a.name in this.submitted)this.element(a)},highlight:function(a,b){$(a).addClass(b)},unhighlight:function(a,b){$(a).removeClass(b)}},setDefaults:function(a){$.extend($.validator.defaults,a)},messages:{required:"",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",dateDE:"Bitte geben Sie ein gltiges Datum ein.",number:"Please enter a valid number.",numberDE:"Bitte geben Sie eine Nummer ein.",digits:"Please enter only digits",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:$.format("Please enter no more than {0} characters."),minlength:$.format("Please enter at least {0} characters."),rangelength:$.format("Please enter a value between {0} and {1} characters long."),range:$.format("Please enter a value between {0} and {1}."),max:$.format("Please enter a value less than or equal to {0}."),min:$.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var e=(this.groups={});$.each(this.settings.groups,function(c,d){$.each(d.split(/\s/),function(a,b){e[b]=c})});var f=this.settings.rules;$.each(f,function(a,b){f[a]=$.validator.normalizeRule(b)});function delegate(a){var b=$.data(this[0].form,"validator");b.settings["on"+a.type]&&b.settings["on"+a.type].call(b,this[0])}$(this.currentForm).delegate("focusin focusout keyup",":text, :password, :file, select, textarea",delegate).delegate("click",":radio, :checkbox",delegate);if(this.settings.invalidHandler)$(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid())$(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var i=0,elements=(this.currentElements=this.elements());elements[i];i++){this.check(elements[i])}return this.valid()},element:function(a){a=this.clean(a);this.lastElement=a;this.prepareElement(a);this.currentElements=$(a);var b=this.check(a);if(b){delete this.invalid[a.name]}else{this.invalid[a.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return b},showErrors:function(b){if(b){$.extend(this.errorMap,b);this.errorList=[];for(var c in b){this.errorList.push({message:b[c],element:this.findByName(c)[0]})}this.successList=$.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){if($.fn.resetForm)$(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0;for(var i in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).fadeOut('fast')},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus()}catch(e){}}},findLastActive:function(){var a=this.lastActive;return a&&$.grep(this.errorList,function(n){return n.element.name==a.name}).length==1&&a},elements:function(){var a=this,rulesCache={};return $([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&a.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in rulesCache||!a.objectLength($(this).rules()))return false;rulesCache[this.name]=true;return true})},clean:function(a){return $(a)[0]},errors:function(){return $(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.formSubmitted=false;this.currentElements=$([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.clean(a);if(this.checkable(a)){a=this.findByName(a.name)[0]}var b=false;var b=$(a).is(":visible");if(!b){return}var c=$(a).rules();var d=false;for(method in c){var f={method:method,parameters:c[method]};try{var g=$.validator.methods[method].call(this,a.value,a,f.parameters);if(g=="dependency-mismatch"){d=true;continue}d=false;if(g=="pending"){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!g){this.formatAndAdd(a,f);return false}}catch(e){this.settings.debug&&window.console&&console.log("exception occured when checking element "+a.id+", check the '"+f.method+"' method");throw e;}}if(d){return}if(this.objectLength(c))this.successList.push(a);return true},customMetaMessage:function(a,b){if(!$.metadata)return;var c=this.settings.meta?$(a).metadata()[this.settings.meta]:$(a).metadata();return c&&c.messages&&c.messages[b]},customMessage:function(a,b){var m=this.settings.messages[a];return m&&(m.constructor==String?m:m[b])},findDefined:function(){for(var i=0;i<arguments.length;i++){if(arguments[i]!==undefined)return arguments[i]}return undefined},defaultMessage:function(a,b){return this.findDefined(this.customMessage(a.name,b),this.customMetaMessage(a,b),!this.settings.ignoreTitle&&a.title||undefined,$.validator.messages[b],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b.method);if(typeof c=="function")c=c.call(this,b.parameters,a);this.errorList.push({message:c,element:a});this.errorMap[a.name]=c;this.submitted[a.name]=c},addWrapper:function(a){if(this.settings.wrapper)a=a.add(a.parents(this.settings.wrapper));return a},defaultShowErrors:function(){for(var i=0;this.errorList[i];i++){var a=this.errorList[i];this.settings.highlight&&this.settings.highlight.call(this,a.element,this.settings.errorClass);this.showLabel(a.element,a.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(var i=0;this.successList[i];i++){this.showLabel(this.successList[i])}}if(this.settings.unhighlight){for(var i=0,elements=this.validElements();elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).fadeIn()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return $(this.errorList).map(function(){return this.element})},showLabel:function(a,b){var c=this.errorsFor(a);if(c.length){c.removeClass().addClass(this.settings.errorClass);c.attr("generated")&&c.html(b)}else{c=$("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(a),generated:true}).addClass(this.settings.errorClass).html(b||"");if(this.settings.wrapper){c=c.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(c).length)this.settings.errorPlacement?this.settings.errorPlacement(c,$(a)):c.insertAfter(a)}if(!b&&this.settings.success){c.text("");typeof this.settings.success=="string"?c.addClass(this.settings.success):this.settings.success(c)}this.toShow=this.toShow.add(c)},errorsFor:function(a){return this.errors().filter("[for='"+this.idOrName(a)+"']")},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(c){var d=this.currentForm;return $(document.getElementsByName(c)).map(function(a,b){return b.form==d&&b.name==c&&b||null})},getLength:function(a,b){switch(b.nodeName.toLowerCase()){case'select':return $("option:selected",b).length;case'input':if(this.checkable(b))return this.findByName(b.name).filter(':checked').length}return a.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):true},dependTypes:{"boolean":function(a,b){return a},"string":function(a,b){return!!$(a,b.form).length},"function":function(a,b){return a(b)}},optional:function(a){return!$.validator.methods.required.call(this,$.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,b){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[a.name];if(b&&this.pendingRequest==0&&this.formSubmitted&&this.form()){$(this.currentForm).submit()}else if(!b&&this.pendingRequest==0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this])}},previousValue:function(a){return $.data(a,"previousValue")||$.data(a,"previousValue",previous={old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(a,b){a.constructor==String?this.classRuleSettings[a]=b:$.extend(this.classRuleSettings,a)},classRules:function(a){var b={};var c=$(a).attr('class');c&&$.each(c.split(' '),function(){if(this in $.validator.classRuleSettings){$.extend(b,$.validator.classRuleSettings[this])}});return b},attributeRules:function(a){var b={};var c=$(a);for(method in $.validator.methods){var d=c.attr(method);if(d){b[method]=d}}if(b.maxlength&&/-1|2147483647|524288/.test(b.maxlength)){delete b.maxlength}return b},metadataRules:function(a){if(!$.metadata)return{};var b=$.data(a.form,'validator').settings.meta;return b?$(a).metadata()[b]:$(a).metadata()},staticRules:function(a){var b={};var c=$.data(a.form,'validator');if(c.settings.rules){b=$.validator.normalizeRule(c.settings.rules[a.name])||{}}return b},normalizeRules:function(d,e){$.each(d,function(a,b){if(b===false){delete d[a];return}if(b.param||b.depends){var c=true;switch(typeof b.depends){case"string":c=!!$(b.depends,e.form).length;break;case"function":c=b.depends.call(e,e);break}if(c){d[a]=b.param!==undefined?b.param:true}else{delete d[a]}}});$.each(d,function(a,b){d[a]=$.isFunction(b)?b(e):b});$.each(['minlength','maxlength','min','max'],function(){if(d[this]){d[this]=Number(d[this])}});$.each(['rangelength','range'],function(){if(d[this]){d[this]=[Number(d[this][0]),Number(d[this][1])]}});if($.validator.autoCreateRanges){if(d.min&&d.max){d.range=[d.min,d.max];delete d.min;delete d.max}if(d.minlength&&d.maxlength){d.rangelength=[d.minlength,d.maxlength];delete d.minlength;delete d.maxlength}}if(d.messages){delete d.messages}return d},normalizeRule:function(a){if(typeof a=="string"){var b={};$.each(a.split(/\s/),function(){b[this]=true});a=b}return a},addMethod:function(a,b,c){$.validator.methods[a]=b;$.validator.messages[a]=c;if(b.length<3){$.validator.addClassRules(a,$.validator.normalizeRule(a))}},methods:{required:function(a,b,c){if(!this.depend(c,b))return"dependency-mismatch";switch(b.nodeName.toLowerCase()){case'select':var d=$("option:selected",b);return d.length>0&&(b.type=="select-multiple"||($.browser.msie&&!(d[0].attributes['value'].specified)?d[0].text:d[0].value).length>0);case'input':if(this.checkable(b))return this.getLength(a,b)>0;default:return $.trim(a).length>0}},remote:function(d,e,f){if(this.optional(e))return"dependency-mismatch";var g=this.previousValue(e);if(!this.settings.messages[e.name])this.settings.messages[e.name]={};this.settings.messages[e.name].remote=typeof g.message=="function"?g.message(d):g.message;f=typeof f=="string"&&{url:f}||f;if(g.old!==d){g.old=d;var h=this;this.startRequest(e);var i={};i[e.name]=d;$.ajax($.extend(true,{url:f,mode:"abort",port:"validate"+e.name,dataType:"json",data:i,success:function(a){if(a){var b=h.formSubmitted;h.prepareElement(e);h.formSubmitted=b;h.successList.push(e);h.showErrors()}else{var c={};c[e.name]=a||h.defaultMessage(e,"remote");h.showErrors(c)}g.valid=a;h.stopRequest(e,a)}},f));return"pending"}else if(this.pending[e.name]){return"pending"}return g.valid},minlength:function(a,b,c){return this.optional(b)||this.getLength($.trim(a),b)>=c},maxlength:function(a,b,c){return this.optional(b)||this.getLength($.trim(a),b)<=c},rangelength:function(a,b,c){var d=this.getLength($.trim(a),b);return this.optional(b)||(d>=c[0]&&d<=c[1])},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||(a>=c[0]&&a<=c[1])},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},dateDE:function(a,b){return this.optional(b)||/^\d\d?\.\d\d?\.\d\d\d?\d?$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},numberDE:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:\.\d{3})+)(?:,\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9-]+/.test(a))return false;var c=0,e=0,bEven=false;a=a.replace(/\D/g,"");for(n=a.length-1;n>=0;n--){var d=a.charAt(n);var e=parseInt(d,10);if(bEven){if((e*=2)>9)e-=9}c+=e;bEven=!bEven}return(c%10)==0},accept:function(a,b,c){c=typeof c=="string"?c:"png|jpe?g|gif";return this.optional(b)||a.match(new RegExp(".("+c+")$","i"))},equalTo:function(a,b,c){return a==$(c).val()}}})})(jQuery);(function($){var c=$.ajax;var d={};$.ajax=function(a){a=$.extend(a,$.extend({},$.ajaxSettings,a));var b=a.port;if(a.mode=="abort"){if(d[b]){d[b].abort()}return(d[b]=c.apply(this,arguments))}return c.apply(this,arguments)}})(jQuery);(function($){$.each({focus:'focusin',blur:'focusout'},function(a,b){$.event.special[b]={setup:function(){if($.browser.msie)return false;this.addEventListener(a,$.event.special[b].handler,true)},teardown:function(){if($.browser.msie)return false;this.removeEventListener(a,$.event.special[b].handler,true)},handler:function(e){arguments[0]=$.event.fix(e);arguments[0].type=b;return $.event.handle.apply(this,arguments)}}});$.extend($.fn,{delegate:function(c,d,e){return this.bind(c,function(a){var b=$(a.target);if(b.is(d)){return e.apply(b,arguments)}})},triggerEvent:function(a,b){return this.triggerHandler(a,[$.event.fix({type:a,target:b})])}})})(jQuery);

	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       */
;(function($){$.fn.extend({autocomplete:function(b,c){var d=typeof b=="string";c=$.extend({},$.Autocompleter.defaults,{url:d?b:null,data:d?null:b,delay:d?$.Autocompleter.defaults.delay:10,max:c&&!c.scroll?10:150},c);c.highlight=c.highlight||function(a){return a};c.formatMatch=c.formatMatch||c.formatItem;return this.each(function(){new $.Autocompleter(this,c)})},result:function(a){return this.bind("result",a)},search:function(a){return this.trigger("search",[a])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(a){return this.trigger("setOptions",[a])},unautocomplete:function(){return this.trigger("unautocomplete")}});$.Autocompleter=function(h,j){var k={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var l=$(h).attr("autocomplete","off").addClass(j.inputClass);var m;var n="";var o=$.Autocompleter.Cache(j);var p=0;var r;var s={mouseDownOnSelect:false};var t=$.Autocompleter.Select(j,h,selectCurrent,s);var u;$.browser.opera&&$(h.form).bind("submit.autocomplete",function(){if(u){u=false;return false}});l.bind(($.browser.opera?"keypress":"keydown")+".autocomplete",function(a){p=1;r=a.keyCode;switch(a.keyCode){case k.UP:a.preventDefault();if(t.visible()){t.prev()}else{onChange(0,true)}break;case k.DOWN:a.preventDefault();if(t.visible()){t.next()}else{onChange(0,true)}break;case k.PAGEUP:a.preventDefault();if(t.visible()){t.pageUp()}else{onChange(0,true)}break;case k.PAGEDOWN:a.preventDefault();if(t.visible()){t.pageDown()}else{onChange(0,true)}break;case j.multiple&&$.trim(j.multipleSeparator)==","&&k.COMMA:case k.TAB:case k.RETURN:if(selectCurrent()){a.preventDefault();u=true;return false}break;case k.ESC:t.hide();break;default:clearTimeout(m);m=setTimeout(onChange,j.delay);break}}).focus(function(){p++}).blur(function(){p=0;if(!s.mouseDownOnSelect){hideResults()}}).click(function(){if(p++>1&&!t.visible()){onChange(0,true)}}).bind("search",function(){var c=(arguments.length>1)?arguments[1]:null;function findValueCallback(q,a){var b;if(a&&a.length){for(var i=0;i<a.length;i++){if(a[i].result.toLowerCase()==q.toLowerCase()){b=a[i];break}}}if(typeof c=="function")c(b);else l.trigger("result",b&&[b.data,b.value])}$.each(trimWords(l.val()),function(i,a){request(a,findValueCallback,findValueCallback)})}).bind("flushCache",function(){o.flush()}).bind("setOptions",function(){$.extend(j,arguments[1]);if("data"in arguments[1])o.populate()}).bind("unautocomplete",function(){t.unbind();l.unbind();$(h.form).unbind(".autocomplete")});function selectCurrent(){var b=t.selected();if(!b)return false;var v=b.result;n=v;if(j.multiple){var c=trimWords(l.val());if(c.length>1){var d=j.multipleSeparator.length;var e=$(h).selection().start;var f,progress=0;$.each(c,function(i,a){progress+=a.length;if(e<=progress){f=i;return false}progress+=d});c[f]=v;v=c.join(j.multipleSeparator)}v+=j.multipleSeparator}l.val(v);hideResultsNow();l.trigger("result",[b.data,b.value]);return true}function onChange(a,b){if(r==k.DEL){t.hide();return}var c=l.val();if(!b&&c==n)return;n=c;c=lastWord(c);if(c==' '){return false}else{if(c.length>=j.minChars){l.addClass(j.loadingClass);if(!j.matchCase)c=c.toLowerCase();request(c,receiveData,hideResultsNow)}else{stopLoading();t.hide()}}};function trimWords(b){if(!b)return[""];if(!j.multiple)return[$.trim(b)];return $.map(b.split(j.multipleSeparator),function(a){return $.trim(b).length?$.trim(a):null})}function lastWord(a){if(!j.multiple)return a;var b=trimWords(a);if(b.length==1)return b[0];var c=$(h).selection().start;if(c==a.length){b=trimWords(a)}else{b=trimWords(a.replace(a.substring(c),""))}return b[b.length-1]}function autoFill(q,a){if(j.autoFill&&(lastWord(l.val()).toLowerCase()==q.toLowerCase())&&r!=k.BACKSPACE){l.val(l.val()+a.substring(lastWord(n).length));$(h).selection(n.length,n.length+a.length)}};function hideResults(){clearTimeout(m);m=setTimeout(hideResultsNow,200)};function hideResultsNow(){var c=t.visible();t.hide();clearTimeout(m);stopLoading();if(j.mustMatch){l.search(function(a){if(!a){if(j.multiple){var b=trimWords(l.val()).slice(0,-1);l.val(b.join(j.multipleSeparator)+(b.length?j.multipleSeparator:""))}else{l.val("");l.trigger("result",null)}}})}};function receiveData(q,a){if(a&&a.length&&p){stopLoading();t.display(a,q);autoFill(q,a[0].value);t.show()}else{hideResultsNow()}};function request(c,d,e){if(!j.matchCase)c=c.toLowerCase();var f=o.load(c);if(f&&f.length){d(c,f)}else if((typeof j.url=="string")&&(j.url.length>0)){var g={timestamp:+new Date()};$.each(j.extraParams,function(a,b){g[a]=typeof b=="function"?b():b});$.ajax({mode:"abort",port:"autocomplete"+h.name,dataType:j.dataType,type:"POST",url:j.url,data:$.extend({q:lastWord(c),limit:j.max},g),success:function(a){var b=j.parse&&j.parse(a)||parse(a);o.add(c,b);d(c,b)}})}else{t.emptyList();e(c)}};function parse(a){var b=[];var c=a.split("\n");for(var i=0;i<c.length;i++){var d=$.trim(c[i]);if(d){d=d.split("|");b[b.length]={data:d,value:d[0],result:j.formatResult&&j.formatResult(d,d[0])||d[0]}}}return b};function stopLoading(){l.removeClass(j.loadingClass)}};$.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",resultsLoadingClass:"ac_results_loading",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(a){return a[0]},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(a,b){return a.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+b.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:true,scrollHeight:180,callback:''};$.Autocompleter.Cache=function(g){var h={};var j=0;function matchSubset(s,a){if(!g.matchCase)s=s.toLowerCase();var i=s.indexOf(a);if(g.matchContains=="word"){i=s.toLowerCase().search("\\b"+a.toLowerCase())}if(i==-1)return false;return i==0||g.matchContains};function add(q,a){if(j>g.cacheLength){flush()}if(!h[q]){j++}h[q]=a}function populate(){if(!g.data)return false;var b={},nullData=0;if(!g.url)g.cacheLength=1;b[""]=[];for(var i=0,ol=g.data.length;i<ol;i++){var c=g.data[i];c=(typeof c=="string")?[c]:c;var d=g.formatMatch(c,i+1,g.data.length);if(d===false)continue;var e=d.charAt(0).toLowerCase();if(!b[e])b[e]=[];var f={value:d,data:c,result:g.formatResult&&g.formatResult(c)||d};b[e].push(f);if(nullData++<g.max){b[""].push(f)}};$.each(b,function(i,a){g.cacheLength++;add(i,a)})}setTimeout(populate,25);function flush(){h={};j=0}return{flush:flush,add:add,populate:populate,load:function(q){if(!g.cacheLength||!j)return null;if(!g.url&&g.matchContains){var a=[];for(var k in h){if(k.length>0){var c=h[k];$.each(c,function(i,x){if(matchSubset(x.value,q)){a.push(x)}})}}return a}else if(h[q]){return h[q]}else if(g.matchSubset){for(var i=q.length-1;i>=g.minChars;i--){var c=h[q.substr(0,i)];if(c){var a=[];$.each(c,function(i,x){if(matchSubset(x.value,q)){a[a.length]=x}});return a}}}return null}}};$.Autocompleter.Select=function(f,g,h,j){var k={ACTIVE:"ac_over"};var l,active=-1,data,term="",needsInit=true,element,list;function init(){if(!needsInit)return;element=$("<div/>").hide().addClass(f.resultsClass).css("position","absolute").appendTo(document.body);$('div.ac_results_loading').hide();list=$("<ul/>").appendTo(element).mouseover(function(a){if(target(a).nodeName&&target(a).nodeName.toUpperCase()=='LI'){active=$("li",list).removeClass(k.ACTIVE).index(target(a));$(target(a)).addClass(k.ACTIVE)}}).click(function(a){$(target(a)).addClass(k.ACTIVE);h();g.focus();(f.callback==''||f.callback==undefined)?'':f.callback();return false}).mousedown(function(){j.mouseDownOnSelect=true}).mouseup(function(){j.mouseDownOnSelect=false});if(f.width>0)element.css("width",f.width);needsInit=false}function initLoading(){SMP.out('initLoading')}function target(a){var b=a.target;while(b&&b.tagName!="LI")b=b.parentNode;if(!b)return[];return b}function moveSelect(a){l.slice(active,active+1).removeClass(k.ACTIVE);movePosition(a);var b=l.slice(active,active+1).addClass(k.ACTIVE);if(f.scroll){var c=0;l.slice(0,active).each(function(){c+=this.offsetHeight});if((c+b[0].offsetHeight-list.scrollTop())>list[0].clientHeight){list.scrollTop(c+b[0].offsetHeight-list.innerHeight())}else if(c<list.scrollTop()){list.scrollTop(c)}}};function movePosition(a){active+=a;if(active<0){active=l.size()-1}else if(active>=l.size()){active=0}}function limitNumberOfItems(a){return f.max&&f.max<a?f.max:a}function fillList(){list.empty();var a=limitNumberOfItems(data.length);for(var i=0;i<a;i++){if(!data[i])continue;var b=f.formatItem(data[i].data,i+1,a,data[i].value,term);if(b===false)continue;var c=$("<li/>").html(f.highlight(b,term)).addClass(i%2==0?"ac_even":"ac_odd").appendTo(list)[0];$.data(c,"ac_data",data[i])}l=list.find("li");if(f.selectFirst){l.slice(0,1).addClass(k.ACTIVE);active=0}if($.fn.bgiframe)list.bgiframe()}return{display:function(d,q){init();data=d;term=q;fillList()},next:function(){moveSelect(1)},prev:function(){moveSelect(-1)},pageUp:function(){if(active!=0&&active-8<0){moveSelect(-active)}else{moveSelect(-8)}},pageDown:function(){if(active!=l.size()-1&&active+8>l.size()){moveSelect(l.size()-1-active)}else{moveSelect(8)}},hide:function(){element&&element.hide();l&&l.removeClass(k.ACTIVE);active=-1},visible:function(){return element&&element.is(":visible")},current:function(){return this.visible()&&(l.filter("."+k.ACTIVE)[0]||f.selectFirst&&l[0])},show:function(){var a=$(g).offset();element.css({width:typeof f.width=="string"||f.width>0?f.width:$(g).width(),top:a.top+g.offsetHeight,left:a.left}).show();if(f.scroll){list.scrollTop(0);list.css({maxHeight:f.scrollHeight,overflow:'auto'});if($.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var b=0;l.each(function(){b+=this.offsetHeight});var c=b>f.scrollHeight;list.css('height',c?f.scrollHeight:b);if(!c){l.width(list.width()-parseInt(l.css("padding-left"))-parseInt(l.css("padding-right")))}}}},showLoading:function(){SMP.out('showLoading');var a=$("<div/>").show().addClass(f.resultsLoadingClass).css("position","absolute").appendTo(document.body);var b=$("<ul style=\"background-color:#cccccc;\"><li>Loading..</li></ul>").appendTo(a);var c=$(g).offset();a.css({width:typeof f.width=="string"||f.width>0?f.width:$(g).width(),top:c.top+g.offsetHeight,left:c.left}).show();if(f.scroll){b.scrollTop(0);b.css({maxHeight:f.scrollHeight,overflow:'auto'});if($.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var d=0;l.each(function(){d+=this.offsetHeight});var e=d>f.scrollHeight;b.css('height',e?f.scrollHeight:d)}}},selected:function(){var a=l&&l.filter("."+k.ACTIVE).removeClass(k.ACTIVE);return a&&a.length&&$.data(a[0],"ac_data")},emptyList:function(){list&&list.empty()},unbind:function(){element&&element.remove()}}};$.fn.selection=function(b,c){if(b!==undefined){return this.each(function(){if(this.createTextRange){var a=this.createTextRange();if(c===undefined||b==c){a.move("character",b);a.select()}else{a.collapse(true);a.moveStart("character",b);a.moveEnd("character",c);a.select()}}else if(this.setSelectionRange){this.setSelectionRange(b,c)}else if(this.selectionStart){this.selectionStart=b;this.selectionEnd=c}})}var d=this[0];if(d.createTextRange){var e=document.selection.createRange(),orig=d.value,teststring="<->",textLength=e.text.length;e.text=teststring;var f=d.value.indexOf(teststring);d.value=orig;this.selection(f,f+textLength);return{start:f,end:f+textLength}}else if(d.selectionStart!==undefined){return{start:d.selectionStart,end:d.selectionEnd}}}})(jQuery);
